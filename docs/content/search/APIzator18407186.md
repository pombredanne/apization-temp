---
title: "[Q#18405660][A#18407186] how to set component size inside container with BoxLayout"
---

https://stackoverflow.com/q/18405660

Faced with the problem of using BoxLayout
In my example, I try to decrease the height of the text field and change the width of the buttons (as shown in green marker in the picture). I know about the techniques setPrefferedSize () and setMaximumSize (), but it did not work as it should. The line add(Box.createHorizontalGlue ()) also did not help.
Thanks for any idea



```java
public class Testy extends JPanel {
    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                constructGUI();
            }
        });
    }

    private static void constructGUI() {
        JFrame frame = new JFrame("Testy");
        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);

        JPanel centerPanel = new JPanel();
        centerPanel.setBackground(Color.DARK_GRAY);
        centerPanel.setPreferredSize(new Dimension(100, 400));
        frame.add(centerPanel, BorderLayout.CENTER);

        Testy eastPanel = new Testy();
        frame.add(eastPanel, BorderLayout.EAST);

        frame.pack();
        frame.setVisible(true);
    }

    public Testy() {
        setLayout(new BoxLayout(this, BoxLayout.PAGE_AXIS));

        JButton button = new JButton("Button ...... 1");
        //button.setPreferredSize(...);
        //button.setMaximumSize(...);
        add(button);

        button = new JButton("Button 2");
        //button.setPreferredSize(...);
        //button.setMaximumSize(...);
        add(button);

        button = new JButton("Button ........... 3");
        //button.setPreferredSize(...);
        //button.setMaximumSize(...);
        add(button);

        JLabel label = new JLabel("Label");
        //label.setPreferredSize(...);
        //label.setMaximumSize(...);
        add(label);

        JTextField textField = new JTextField();
        //textField.setPreferredSize(...);
        //textField.setMaximumSize(...);
        add(textField);

        button = new JButton("Button 4");
        //button.setPreferredSize(...);
        //button.setMaximumSize(...);
        add(button);

        //add(Box.createHorizontalGlue());
    }
}
```


## Original code snippet

https://stackoverflow.com/a/18407186

First you have to realize that component position and size in Java Swing depends on Layout manager (if layout manager is set) not on the component itself. The component requests the manager for size.
For this case I would use different layout - combination of GridLayout and BorderLayout is enough and very simple and straightforward. But if want use BoxLayout, then...
Documentation says:
BoxLayout pays attention
      to a component's requested minimum, preferred, and maximum sizes.
      While you are fine-tuning the layout, you might need to adjust these
      sizes. ... For example, a button's maximum size is generally the
      same as its preferred size. If you want the button to be drawn wider
      when additional space is available, then you need to change its
      maximum size.
Then set components maximum size: c.setMaximumSize(new Dimension(Integer.MAX_VALUE, c.getMinimumSize().height)); (c means button, label and textField in your example)
Edit 1:
Here is working source code:

Edit 2:
If you want laid out Button 4 at the bottom of right column add this line add(Box.createVerticalGlue()); between add(textField); and button = new JButton("Button 4");.

```java
import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Dimension;

import javax.swing.BoxLayout;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTextField;
import javax.swing.SwingUtilities;
import javax.swing.WindowConstants;

public class Testy extends JPanel {
    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            public void run() {
                constructGUI();
            }
        });
    }

    private static void constructGUI() {
        JFrame frame = new JFrame("Testy");
        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);

        JPanel centerPanel = new JPanel();
        centerPanel.setBackground(Color.DARK_GRAY);
        centerPanel.setPreferredSize(new Dimension(100, 400));
        frame.add(centerPanel, BorderLayout.CENTER);

        Testy eastPanel = new Testy();
        frame.add(eastPanel, BorderLayout.EAST);

        frame.pack();
        frame.setVisible(true);
    }

    public Testy() {
        setLayout(new BoxLayout(this, BoxLayout.PAGE_AXIS));

        JButton button = new JButton("Button ...... 1");
        //button.setPreferredSize(...);
        button.setMaximumSize(new Dimension(Integer.MAX_VALUE, button.getMinimumSize().height));
        add(button);

        button = new JButton("Button 2");
        //button.setPreferredSize(...);
        button.setMaximumSize(new Dimension(Integer.MAX_VALUE, button.getMinimumSize().height));
        add(button);

        button = new JButton("Button ........... 3");
        //button.setPreferredSize(...);
        button.setMaximumSize(new Dimension(Integer.MAX_VALUE, button.getMinimumSize().height));
        add(button);

        JLabel label = new JLabel("Label");
        //label.setPreferredSize(...);
        label.setMaximumSize(new Dimension(Integer.MAX_VALUE, label.getMinimumSize().height));
        add(label);

        JTextField textField = new JTextField();
        //textField.setPreferredSize(...);
        textField.setMaximumSize(new Dimension(Integer.MAX_VALUE, textField.getMinimumSize().height));
        add(textField);

        button = new JButton("Button 4");
        //button.setPreferredSize(...);
        button.setMaximumSize(new Dimension(Integer.MAX_VALUE, button.getMinimumSize().height));
        add(button);

        // add(Box.createVerticalGlue());
    }
}
```

## Produced APIzation

[`APIzator18407186.java`](/data/search/java/APIzator18407186.java)

```java
package com.stackoverflow.api;

import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Dimension;
import javax.swing.BoxLayout;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTextField;
import javax.swing.SwingUtilities;
import javax.swing.WindowConstants;

/**
 * how to set component size inside container with BoxLayout
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/18407186">https://stackoverflow.com/a/18407186</a>
 */
public class APIzator18407186 {

  public class Testy extends JPanel {

    public static void setSize() {
      SwingUtilities.invokeLater(
        new Runnable() {

          public void run() {
            constructGUI();
          }
        }
      );
    }

    private static void constructGUI() {
      JFrame frame = new JFrame("Testy");
      frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
      JPanel centerPanel = new JPanel();
      centerPanel.setBackground(Color.DARK_GRAY);
      centerPanel.setPreferredSize(new Dimension(100, 400));
      frame.add(centerPanel, BorderLayout.CENTER);
      Testy eastPanel = new Testy();
      frame.add(eastPanel, BorderLayout.EAST);
      frame.pack();
      frame.setVisible(true);
    }

    public Testy() {
      setLayout(new BoxLayout(this, BoxLayout.PAGE_AXIS));
      JButton button = new JButton("Button ...... 1");
      // button.setPreferredSize(...);
      button.setMaximumSize(
        new Dimension(Integer.MAX_VALUE, button.getMinimumSize().height)
      );
      add(button);
      button = new JButton("Button 2");
      // button.setPreferredSize(...);
      button.setMaximumSize(
        new Dimension(Integer.MAX_VALUE, button.getMinimumSize().height)
      );
      add(button);
      button = new JButton("Button ........... 3");
      // button.setPreferredSize(...);
      button.setMaximumSize(
        new Dimension(Integer.MAX_VALUE, button.getMinimumSize().height)
      );
      add(button);
      JLabel label = new JLabel("Label");
      // label.setPreferredSize(...);
      label.setMaximumSize(
        new Dimension(Integer.MAX_VALUE, label.getMinimumSize().height)
      );
      add(label);
      JTextField textField = new JTextField();
      // textField.setPreferredSize(...);
      textField.setMaximumSize(
        new Dimension(Integer.MAX_VALUE, textField.getMinimumSize().height)
      );
      add(textField);
      button = new JButton("Button 4");
      // button.setPreferredSize(...);
      button.setMaximumSize(
        new Dimension(Integer.MAX_VALUE, button.getMinimumSize().height)
      );
      add(button);
      // add(Box.createVerticalGlue());
    }
  }
}
```