---
title: "[Q#1115230][A#8220245] casting Object array to Integer array error"
question_title: "casting Object array to Integer array error"
question_text: "What's wrong with the following code? The code has the following error at the last line : Exception in thread \"main\" java.lang.ClassCastException:   [Ljava.lang.Object; cannot be cast to [Ljava.lang.Integer;"
answer_text: "Ross, you can use Arrays.copyof() or Arrays.copyOfRange() too. Here the reason to hitting an ClassCastException is you can't treat an array  of Integer as an array of Object. Integer[] is a subtype of Object[] but Object[] is not a Integer[]. And the following also will not give an ClassCastException."
apization_code: "package com.stackoverflow.api;  import com.google.gwt.user.client.rpc.core.java.util.Arrays;  /**  * casting Object array to Integer array error  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/8220245\">https://stackoverflow.com/a/8220245</a>  */ public class APIzator8220245 {    public static Integer[] castArray(Object[] a, Integer b)     throws RuntimeException {     Integer[] integerArray = Arrays.copyOf(a, a.length, Integer[].class);     Integer[] integerArray = Arrays.copyOfRange(       a,       0,       a.length,       Integer[].class     );     return (Integer[]) a;   } }"
---

https://stackoverflow.com/q/1115230

What&#x27;s wrong with the following code?
The code has the following error at the last line :
Exception in thread &quot;main&quot; java.lang.ClassCastException:
  [Ljava.lang.Object; cannot be cast to [Ljava.lang.Integer;


<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
Object[] a = new Object[1];
Integer b=1;
a[0]=b;
Integer[] c = (Integer[]) a;
```


## Original code snippet

https://stackoverflow.com/a/8220245

Ross, you can use Arrays.copyof() or Arrays.copyOfRange() too.
Here the reason to hitting an ClassCastException is you can&#x27;t treat an array  of Integer as an array of Object. Integer[] is a subtype of Object[] but Object[] is not a Integer[].
And the following also will not give an ClassCastException.

<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
Integer[] integerArray = Arrays.copyOf(a, a.length, Integer[].class);
Integer[] integerArray = Arrays.copyOfRange(a, 0, a.length, Integer[].class);
Object[] a = new Integer[1];
Integer b=1;
a[0]=b;
Integer[] c = (Integer[]) a;
```

## Produced APIzation

[`APIzator8220245.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/search/APIzator8220245.java)

<div class="code-logo"><img src="/apizator.png" /></div>

```java
package com.stackoverflow.api;

import com.google.gwt.user.client.rpc.core.java.util.Arrays;

/**
 * casting Object array to Integer array error
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/8220245">https://stackoverflow.com/a/8220245</a>
 */
public class APIzator8220245 {

  public static Integer[] castArray(Object[] a, Integer b)
    throws RuntimeException {
    Integer[] integerArray = Arrays.copyOf(a, a.length, Integer[].class);
    Integer[] integerArray = Arrays.copyOfRange(
      a,
      0,
      a.length,
      Integer[].class
    );
    return (Integer[]) a;
  }
}

```