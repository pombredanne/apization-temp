---
title: "[Q#16232833][A#16250729] How to respond with HTTP 400 error in a Spring MVC @ResponseBody method returning String?"
question_title: "How to respond with HTTP 400 error in a Spring MVC @ResponseBody method returning String?"
question_text: "I'm using Spring MVC for a simple JSON API, with @ResponseBody based approach like the following. (I already have a service layer producing JSON directly.) Question is, in the given scenario, what is the simplest, cleanest way to respond with a HTTP 400 error? I did come across approaches like: ...but I can't use it here since my method's return type is String, not ResponseEntity."
answer_text: "change your return type to ResponseEntity<>, then you can use below for 400 and for correct request UPDATE 1 after spring 4.1 there are helper methods in ResponseEntity could be used as and"
apization_code: "package com.stackoverflow.api;  import org.springframework.http.HttpStatus; import org.springframework.http.ResponseEntity;  /**  * How to respond with HTTP 400 error in a Spring MVC @ResponseBody method returning String?  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/16250729\">https://stackoverflow.com/a/16250729</a>  */ public class APIzator16250729 {    public static void respond() throws RuntimeException {     return new ResponseEntity<>(HttpStatus.BAD_REQUEST);     return new ResponseEntity<>(json, HttpStatus.OK);     return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(null);     return ResponseEntity.ok(json);   } }"
---

https://stackoverflow.com/q/16232833

I&#x27;m using Spring MVC for a simple JSON API, with @ResponseBody based approach like the following. (I already have a service layer producing JSON directly.)
Question is, in the given scenario, what is the simplest, cleanest way to respond with a HTTP 400 error?
I did come across approaches like:
...but I can&#x27;t use it here since my method&#x27;s return type is String, not ResponseEntity.


<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
@RequestMapping(value = "/matches/{matchId}", produces = "application/json")
@ResponseBody
public String match(@PathVariable String matchId) {
    String json = matchService.getMatchJson(matchId);
    if (json == null) {
        // TODO: how to respond with e.g. 400 "bad request"?
    }
    return json;
}
return new ResponseEntity(HttpStatus.BAD_REQUEST);
```


## Original code snippet

https://stackoverflow.com/a/16250729

change your return type to ResponseEntity&lt;&gt;, then you can use below for 400
and for correct request
UPDATE 1
after spring 4.1 there are helper methods in ResponseEntity could be used as
and

<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
return new ResponseEntity<>(HttpStatus.BAD_REQUEST);
return new ResponseEntity<>(json,HttpStatus.OK);
return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(null);
return ResponseEntity.ok(json);
```

## Produced APIzation

[`APIzator16250729.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/search/APIzator16250729.java)

<div class="code-logo"><img src="/apizator.png" /></div>

```java
package com.stackoverflow.api;

import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;

/**
 * How to respond with HTTP 400 error in a Spring MVC @ResponseBody method returning String?
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/16250729">https://stackoverflow.com/a/16250729</a>
 */
public class APIzator16250729 {

  public static void respond() throws RuntimeException {
    return new ResponseEntity<>(HttpStatus.BAD_REQUEST);
    return new ResponseEntity<>(json, HttpStatus.OK);
    return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(null);
    return ResponseEntity.ok(json);
  }
}

```