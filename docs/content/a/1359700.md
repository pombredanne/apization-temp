---
title: "[Q#1359689][A#1359700] How to send HTTP request in java?"
question_title: "How to send HTTP request in java?"
question_text: "In Java, How to compose a HTTP request message and send it to a HTTP WebServer?"
answer_text: "You can use java.net.HttpUrlConnection. Example (from here), with improvements. Included in case of link rot:"
apization_code: "package com.stackoverflow.api;  import java.io.BufferedReader; import java.io.DataOutputStream; import java.io.InputStream; import java.io.InputStreamReader; import java.net.HttpURLConnection;  /**  * How to send HTTP request in java?  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/1359700\">https://stackoverflow.com/a/1359700</a>  */ public class APIzator1359700 {    public static String executePost(String targetURL, String urlParameters) {     HttpURLConnection connection = null;     try {       // Create connection       URL url = new URL(targetURL);       connection = (HttpURLConnection) url.openConnection();       connection.setRequestMethod(\"POST\");       connection.setRequestProperty(         \"Content-Type\",         \"application/x-www-form-urlencoded\"       );       connection.setRequestProperty(         \"Content-Length\",         Integer.toString(urlParameters.getBytes().length)       );       connection.setRequestProperty(\"Content-Language\", \"en-US\");       connection.setUseCaches(false);       connection.setDoOutput(true);       // Send request       DataOutputStream wr = new DataOutputStream(connection.getOutputStream());       wr.writeBytes(urlParameters);       wr.close();       // Get Response       InputStream is = connection.getInputStream();       BufferedReader rd = new BufferedReader(new InputStreamReader(is));       // or StringBuffer if Java version 5+       StringBuilder response = new StringBuilder();       String line;       while ((line = rd.readLine()) != null) {         response.append(line);         response.append('\\r');       }       rd.close();       return response.toString();     } catch (Exception e) {       e.printStackTrace();       return null;     } finally {       if (connection != null) {         connection.disconnect();       }     }   } }"
---

https://stackoverflow.com/q/1359689

In Java, How to compose a HTTP request message and send it to a HTTP WebServer?



## Original code snippet

https://stackoverflow.com/a/1359700

You can use java.net.HttpUrlConnection.
Example (from here), with improvements. Included in case of link rot:

```java
public static String executePost(String targetURL, String urlParameters) {
  HttpURLConnection connection = null;

  try {
    //Create connection
    URL url = new URL(targetURL);
    connection = (HttpURLConnection) url.openConnection();
    connection.setRequestMethod("POST");
    connection.setRequestProperty("Content-Type", 
        "application/x-www-form-urlencoded");

    connection.setRequestProperty("Content-Length", 
        Integer.toString(urlParameters.getBytes().length));
    connection.setRequestProperty("Content-Language", "en-US");  

    connection.setUseCaches(false);
    connection.setDoOutput(true);

    //Send request
    DataOutputStream wr = new DataOutputStream (
        connection.getOutputStream());
    wr.writeBytes(urlParameters);
    wr.close();

    //Get Response  
    InputStream is = connection.getInputStream();
    BufferedReader rd = new BufferedReader(new InputStreamReader(is));
    StringBuilder response = new StringBuilder(); // or StringBuffer if Java version 5+
    String line;
    while ((line = rd.readLine()) != null) {
      response.append(line);
      response.append('\r');
    }
    rd.close();
    return response.toString();
  } catch (Exception e) {
    e.printStackTrace();
    return null;
  } finally {
    if (connection != null) {
      connection.disconnect();
    }
  }
}
```

## Produced APIzation

[`APIzator1359700.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/apizations/java/APIzator1359700.java)

```java
package com.stackoverflow.api;

import java.io.BufferedReader;
import java.io.DataOutputStream;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.net.HttpURLConnection;

/**
 * How to send HTTP request in java?
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/1359700">https://stackoverflow.com/a/1359700</a>
 */
public class APIzator1359700 {

  public static String executePost(String targetURL, String urlParameters) {
    HttpURLConnection connection = null;
    try {
      // Create connection
      URL url = new URL(targetURL);
      connection = (HttpURLConnection) url.openConnection();
      connection.setRequestMethod("POST");
      connection.setRequestProperty(
        "Content-Type",
        "application/x-www-form-urlencoded"
      );
      connection.setRequestProperty(
        "Content-Length",
        Integer.toString(urlParameters.getBytes().length)
      );
      connection.setRequestProperty("Content-Language", "en-US");
      connection.setUseCaches(false);
      connection.setDoOutput(true);
      // Send request
      DataOutputStream wr = new DataOutputStream(connection.getOutputStream());
      wr.writeBytes(urlParameters);
      wr.close();
      // Get Response
      InputStream is = connection.getInputStream();
      BufferedReader rd = new BufferedReader(new InputStreamReader(is));
      // or StringBuffer if Java version 5+
      StringBuilder response = new StringBuilder();
      String line;
      while ((line = rd.readLine()) != null) {
        response.append(line);
        response.append('\r');
      }
      rd.close();
      return response.toString();
    } catch (Exception e) {
      e.printStackTrace();
      return null;
    } finally {
      if (connection != null) {
        connection.disconnect();
      }
    }
  }
}

```