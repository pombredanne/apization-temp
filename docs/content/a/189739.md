---
title: "[Q#189094][A#189739] How to scan a folder in Java?"
question_title: "How to scan a folder in Java?"
question_text: "How can I get list all the files within a folder recursively in Java?"
answer_text: "Not sure how you want to represent the tree? Anyway here's an example which scans the entire subtree using recursion. Files and directories are treated alike. Note that File.listFiles() returns null for non-directories. Java 7 offers a couple of improvements. For example, DirectoryStream provides one result at a time - the caller no longer has to wait for all I/O operations to complete before acting. This allows incremental GUI updates, early cancellation, etc. Note that the dreaded null return value has been replaced by IOException. Java 7 also offers a tree walker:"
apization_code: "package com.stackoverflow.api;  import java.io.File; import java.io.IOException; import java.nio.file.DirectoryStream; import java.nio.file.FileVisitResult; import java.nio.file.Files; import java.nio.file.Path; import java.nio.file.SimpleFileVisitor; import java.nio.file.attribute.BasicFileAttributes; import java.util.ArrayList; import java.util.Collection;  /**  * How to scan a folder in Java?  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/189739\">https://stackoverflow.com/a/189739</a>  */ public class APIzator189739 {    public static Collection<File> scanFolder() {     Collection<File> all = new ArrayList<File>();     addTree(new File(\".\"), all);     return all;   }    static void addTree(File file, Collection<File> all) {     File[] children = file.listFiles();     if (children != null) {       for (File child : children) {         all.add(child);         addTree(child, all);       }     }   }    static void addTree(Path directory, Collection<Path> all) throws IOException {     try (DirectoryStream<Path> ds = Files.newDirectoryStream(directory)) {       for (Path child : ds) {         all.add(child);         if (Files.isDirectory(child)) {           addTree(child, all);         }       }     }   }    static void addTree(Path directory, final Collection<Path> all)     throws IOException {     Files.walkFileTree(       directory,       new SimpleFileVisitor<Path>() {          @Override         public FileVisitResult visitFile(Path file, BasicFileAttributes attrs)           throws IOException {           all.add(file);           return FileVisitResult.CONTINUE;         }       }     );   } }"
---

https://stackoverflow.com/q/189094

How can I get list all the files within a folder recursively in Java?



## Original code snippet

https://stackoverflow.com/a/189739

Not sure how you want to represent the tree? Anyway here&#x27;s an example which scans the entire subtree using recursion. Files and directories are treated alike. Note that File.listFiles() returns null for non-directories.
Java 7 offers a couple of improvements. For example, DirectoryStream provides one result at a time - the caller no longer has to wait for all I/O operations to complete before acting. This allows incremental GUI updates, early cancellation, etc.
Note that the dreaded null return value has been replaced by IOException.
Java 7 also offers a tree walker:

<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
public static void main(String[] args) {
    Collection<File> all = new ArrayList<File>();
    addTree(new File("."), all);
    System.out.println(all);
}

static void addTree(File file, Collection<File> all) {
    File[] children = file.listFiles();
    if (children != null) {
        for (File child : children) {
            all.add(child);
            addTree(child, all);
        }
    }
}
static void addTree(Path directory, Collection<Path> all)
        throws IOException {
    try (DirectoryStream<Path> ds = Files.newDirectoryStream(directory)) {
        for (Path child : ds) {
            all.add(child);
            if (Files.isDirectory(child)) {
                addTree(child, all);
            }
        }
    }
}
static void addTree(Path directory, final Collection<Path> all)
        throws IOException {
    Files.walkFileTree(directory, new SimpleFileVisitor<Path>() {
        @Override
        public FileVisitResult visitFile(Path file, BasicFileAttributes attrs)
                throws IOException {
            all.add(file);
            return FileVisitResult.CONTINUE;
        }
    });
}
```

## Produced APIzation

[`APIzator189739.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/search/APIzator189739.java)

<div class="code-logo"><img src="/apizator.png" /></div>

```java
package com.stackoverflow.api;

import java.io.File;
import java.io.IOException;
import java.nio.file.DirectoryStream;
import java.nio.file.FileVisitResult;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.SimpleFileVisitor;
import java.nio.file.attribute.BasicFileAttributes;
import java.util.ArrayList;
import java.util.Collection;

/**
 * How to scan a folder in Java?
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/189739">https://stackoverflow.com/a/189739</a>
 */
public class APIzator189739 {

  public static Collection<File> scanFolder() {
    Collection<File> all = new ArrayList<File>();
    addTree(new File("."), all);
    return all;
  }

  static void addTree(File file, Collection<File> all) {
    File[] children = file.listFiles();
    if (children != null) {
      for (File child : children) {
        all.add(child);
        addTree(child, all);
      }
    }
  }

  static void addTree(Path directory, Collection<Path> all) throws IOException {
    try (DirectoryStream<Path> ds = Files.newDirectoryStream(directory)) {
      for (Path child : ds) {
        all.add(child);
        if (Files.isDirectory(child)) {
          addTree(child, all);
        }
      }
    }
  }

  static void addTree(Path directory, final Collection<Path> all)
    throws IOException {
    Files.walkFileTree(
      directory,
      new SimpleFileVisitor<Path>() {

        @Override
        public FileVisitResult visitFile(Path file, BasicFileAttributes attrs)
          throws IOException {
          all.add(file);
          return FileVisitResult.CONTINUE;
        }
      }
    );
  }
}

```