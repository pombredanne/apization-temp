---
title: "[Q#6873020][A#6875295] GSON - Date format"
question_title: "GSON - Date format"
question_text: "I'm trying to have a custom date format in Gson output, but .setDateFormat(DateFormat.FULL) doesn't seem to work and it the same with .registerTypeAdapter(Date.class, new DateSerializer()). It's like Gson doesn't care about the object \"Date\" and print it in its way. How can I change that? Thanks EDIT: I always use java.util.Date; setDateFormat() doesn't work :("
answer_text: "It seems that you need to define formats for both date and time part or use String-based formatting. For example: or using java.text.DateFormat or do it with serializers: I believe that formatters cannot produce timestamps, but this serializer/deserializer-pair seems to work"
apization_code: "package com.stackoverflow.api;  import android.text.format.DateFormat; import com.google.appengine.repackaged.com.google.gson.Gson; import com.google.appengine.repackaged.com.google.gson.GsonBuilder; import com.google.appengine.repackaged.com.google.gson.JsonDeserializationContext; import com.google.appengine.repackaged.com.google.gson.JsonDeserializer; import com.google.appengine.repackaged.com.google.gson.JsonElement; import com.google.appengine.repackaged.com.google.gson.JsonParseException; import com.google.appengine.repackaged.com.google.gson.JsonPrimitive; import com.google.appengine.repackaged.com.google.gson.JsonSerializationContext; import com.google.appengine.repackaged.com.google.gson.JsonSerializer; import org.apache.tools.ant.types.resources.comparators.Date; import org.apache.tools.ant.types.resources.comparators.Type;  /**  * GSON - Date format  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/6875295\">https://stackoverflow.com/a/6875295</a>  */ public class APIzator6875295 {    public static Gson format() throws RuntimeException {     Gson gson = new GsonBuilder()       .setDateFormat(\"EEE, dd MMM yyyy HH:mm:ss zzz\")       .create();     Gson gson = new GsonBuilder()       .setDateFormat(DateFormat.FULL, DateFormat.FULL)       .create();     JsonSerializer<Date> ser = new JsonSerializer<Date>() {        @Override       public JsonElement serialize(         Date src,         Type typeOfSrc,         JsonSerializationContext context       ) {         return src == null ? null : new JsonPrimitive(src.getTime());       }     };     JsonDeserializer<Date> deser = new JsonDeserializer<Date>() {        @Override       public Date deserialize(         JsonElement json,         Type typeOfT,         JsonDeserializationContext context       )         throws JsonParseException {         return json == null ? null : new Date(json.getAsLong());       }     };     return new GsonBuilder()       .registerTypeAdapter(Date.class, ser)       .registerTypeAdapter(Date.class, deser)       .create();   } }"
---

https://stackoverflow.com/q/6873020

I&#x27;m trying to have a custom date format in Gson output, but .setDateFormat(DateFormat.FULL) doesn&#x27;t seem to work and it the same with .registerTypeAdapter(Date.class, new DateSerializer()).
It&#x27;s like Gson doesn&#x27;t care about the object &quot;Date&quot; and print it in its way.
How can I change that?
Thanks
EDIT:
I always use java.util.Date; setDateFormat() doesn&#x27;t work :(


<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
@Entity
public class AdviceSheet {
  public Date lastModif;
[...]
}

public void method {
   Gson gson = new GsonBuilder().setDateFormat(DateFormat.LONG).create();
   System.out.println(gson.toJson(adviceSheet);
}
```


## Original code snippet

https://stackoverflow.com/a/6875295

It seems that you need to define formats for both date and time part or use String-based formatting. For example:
or using java.text.DateFormat
or do it with serializers:
I believe that formatters cannot produce timestamps, but this serializer/deserializer-pair seems to work

<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
Gson gson = new GsonBuilder()
   .setDateFormat("EEE, dd MMM yyyy HH:mm:ss zzz").create();
Gson gson = new GsonBuilder()
   .setDateFormat(DateFormat.FULL, DateFormat.FULL).create();
JsonSerializer<Date> ser = new JsonSerializer<Date>() {
  @Override
  public JsonElement serialize(Date src, Type typeOfSrc, JsonSerializationContext 
             context) {
    return src == null ? null : new JsonPrimitive(src.getTime());
  }
};

JsonDeserializer<Date> deser = new JsonDeserializer<Date>() {
  @Override
  public Date deserialize(JsonElement json, Type typeOfT,
       JsonDeserializationContext context) throws JsonParseException {
    return json == null ? null : new Date(json.getAsLong());
  }
};

Gson gson = new GsonBuilder()
   .registerTypeAdapter(Date.class, ser)
   .registerTypeAdapter(Date.class, deser).create();
```

## Produced APIzation

[`APIzator6875295.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/search/APIzator6875295.java)

<div class="code-logo"><img src="/apizator.png" /></div>

```java
package com.stackoverflow.api;

import android.text.format.DateFormat;
import com.google.appengine.repackaged.com.google.gson.Gson;
import com.google.appengine.repackaged.com.google.gson.GsonBuilder;
import com.google.appengine.repackaged.com.google.gson.JsonDeserializationContext;
import com.google.appengine.repackaged.com.google.gson.JsonDeserializer;
import com.google.appengine.repackaged.com.google.gson.JsonElement;
import com.google.appengine.repackaged.com.google.gson.JsonParseException;
import com.google.appengine.repackaged.com.google.gson.JsonPrimitive;
import com.google.appengine.repackaged.com.google.gson.JsonSerializationContext;
import com.google.appengine.repackaged.com.google.gson.JsonSerializer;
import org.apache.tools.ant.types.resources.comparators.Date;
import org.apache.tools.ant.types.resources.comparators.Type;

/**
 * GSON - Date format
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/6875295">https://stackoverflow.com/a/6875295</a>
 */
public class APIzator6875295 {

  public static Gson format() throws RuntimeException {
    Gson gson = new GsonBuilder()
      .setDateFormat("EEE, dd MMM yyyy HH:mm:ss zzz")
      .create();
    Gson gson = new GsonBuilder()
      .setDateFormat(DateFormat.FULL, DateFormat.FULL)
      .create();
    JsonSerializer<Date> ser = new JsonSerializer<Date>() {

      @Override
      public JsonElement serialize(
        Date src,
        Type typeOfSrc,
        JsonSerializationContext context
      ) {
        return src == null ? null : new JsonPrimitive(src.getTime());
      }
    };
    JsonDeserializer<Date> deser = new JsonDeserializer<Date>() {

      @Override
      public Date deserialize(
        JsonElement json,
        Type typeOfT,
        JsonDeserializationContext context
      )
        throws JsonParseException {
        return json == null ? null : new Date(json.getAsLong());
      }
    };
    return new GsonBuilder()
      .registerTypeAdapter(Date.class, ser)
      .registerTypeAdapter(Date.class, deser)
      .create();
  }
}

```