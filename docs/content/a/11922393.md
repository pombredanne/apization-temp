---
title: "[Q#11922323][A#11922393] java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)"
question_title: "java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)"
question_text: "The following code: Throws this exception on getConnection(): How is this caused and how can I solve it? EDIT: Produces :"
answer_text: "As you are creating a database from scratch, you could use: Here is an identical scenario."
apization_code: "package com.stackoverflow.api;  import java.sql.Connection; import java.sql.DriverManager; import java.sql.PreparedStatement;  /**  * java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/11922393\">https://stackoverflow.com/a/11922393</a>  */ public class APIzator11922393 {    public static int javasql() throws RuntimeException {     Connection connection = DriverManager.getConnection(       \"jdbc:mysql://localhost/?user=root&amp;password=rootpassword\"     );     PreparedStatement ps = connection.prepareStatement(       \"CREATE DATABASE databasename\"     );     return ps.executeUpdate();   } }"
---

https://stackoverflow.com/q/11922323

The following code:
Throws this exception on getConnection():
How is this caused and how can I solve it?
EDIT:
Produces :


```java
Class.forName("com.mysql.jdbc.Driver");
Connection m_connection = DriverManager.getConnection("jdbc:mysql://localhost","root","root");
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1074)
    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4074)
    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4006)
    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:919)
    at com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1694)
    at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1244)
    at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2397)
    at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2430)
    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2215)
    at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:813)
    at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)
    at java.lang.reflect.Constructor.newInstance(Unknown Source)
    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)
    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:399)
    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:334)
    at java.sql.DriverManager.getConnection(Unknown Source)
    at java.sql.DriverManager.getConnection(Unknown Source)
    at db.Database.<init>(Database.java:91)
    at db.Main.main(Main.java:10)
public static void main(String[] args) throws ClassNotFoundException, ServletException, SQLException 
    {

        try
        {
            Connection conn = (Connection) DriverManager.getConnection("jdbc:mysql://localhost/?user=root&password=rootpassword"); 
            Statement   s = (Statement) conn.createStatement();
            int result = s.executeUpdate("CREATE DATABASE databasename");
        }


        catch ( Exception e)
        {
            e.printStackTrace();
        }
}
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1074)
    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4074)
    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4006)
    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:919)
    at com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1694)
    at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1244)
    at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2397)
    at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2430)
    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2215)
    at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:813)
    at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)
    at java.lang.reflect.Constructor.newInstance(Unknown Source)
    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)
    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:399)
    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:334)
    at java.sql.DriverManager.getConnection(Unknown Source)
    at java.sql.DriverManager.getConnection(Unknown Source)
    at db.Main.main(Main.java:19)
```


## Original code snippet

https://stackoverflow.com/a/11922393

As you are creating a database from scratch, you could use:
Here is an identical scenario.

```java
Connection connection = DriverManager.getConnection("jdbc:mysql://localhost/?user=root&password=rootpassword"); 
PreparedStatement ps = connection.prepareStatement("CREATE DATABASE databasename");
int result = ps.executeUpdate();
```

## Produced APIzation

[`APIzator11922393.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/apizations/java/APIzator11922393.java)

```java
package com.stackoverflow.api;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;

/**
 * java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/11922393">https://stackoverflow.com/a/11922393</a>
 */
public class APIzator11922393 {

  public static int javasql() throws RuntimeException {
    Connection connection = DriverManager.getConnection(
      "jdbc:mysql://localhost/?user=root&amp;password=rootpassword"
    );
    PreparedStatement ps = connection.prepareStatement(
      "CREATE DATABASE databasename"
    );
    return ps.executeUpdate();
  }
}

```