---
title: "[Q#7704827][A#14968272] Java - Reading XML file"
question_title: "Java - Reading XML file"
question_text: "I am trying to read in some data from an XML file and having some trouble, the XML I have is as follows: I am trying to read these values as strings into my Java program, I have written this code so far: I am struggling with reading in the actual string values though."
answer_text: "One of the possible implementations: when used with the XML content: results in \"testusr\" and \"testpwd\" getting assigned to the usr and pwd references above."
apization_code: "package com.stackoverflow.api;  import com.gargoylesoftware.htmlunit.javascript.host.dom.Document; import com.gargoylesoftware.htmlunit.javascript.host.file.File; import javax.xml.parsers.DocumentBuilder; import javax.xml.parsers.DocumentBuilderFactory;  /**  * Java - Reading XML file  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/14968272\">https://stackoverflow.com/a/14968272</a>  */ public class APIzator14968272 {    public static String file() throws RuntimeException {     File file = new File(\"userdata.xml\");     DocumentBuilderFactory documentBuilderFactory = DocumentBuilderFactory.newInstance();     DocumentBuilder documentBuilder = documentBuilderFactory.newDocumentBuilder();     Document document = documentBuilder.parse(file);     String usr = document.getElementsByTagName(\"user\").item(0).getTextContent();     return document.getElementsByTagName(\"password\").item(0).getTextContent();   } }"
---

https://stackoverflow.com/q/7704827

I am trying to read in some data from an XML file and having some trouble, the XML I have is as follows:
I am trying to read these values as strings into my Java program, I have written this code so far:
I am struggling with reading in the actual string values though.


```java
<xml version="1.0" encoding="UTF-8"?>

<EmailSettings>
    <recipient>test@test.com</recipient>
    <sender>test2@test.com</sender>
    <subject>Sales Query</subject>
    <description>email body message</description>
</EmailSettings>
private static Document getDocument (String filename){
    try {

        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();

        factory.setIgnoringComments(true);
        factory.setIgnoringElementContentWhitespace(true);
        factory.setValidating(false);

        DocumentBuilder builder = factory.newDocumentBuilder();
        return builder.parse(new InputSource(filename));        
    }
    catch (Exception e){
        System.out.println("Error reading configuration file:");
        System.out.println(e.getMessage());
    }
    return null;
}

Document doc = getDocument(configFileName);

Element config = doc.getDocumentElement();
```


## Original code snippet

https://stackoverflow.com/a/14968272

One of the possible implementations:
when used with the XML content:
results in &quot;testusr&quot; and &quot;testpwd&quot; getting assigned to the usr and pwd references above.

```java
File file = new File("userdata.xml");
DocumentBuilderFactory documentBuilderFactory = DocumentBuilderFactory
        .newInstance();
DocumentBuilder documentBuilder = documentBuilderFactory.newDocumentBuilder();
Document document = documentBuilder.parse(file);
String usr = document.getElementsByTagName("user").item(0).getTextContent();
String pwd = document.getElementsByTagName("password").item(0).getTextContent();
<credentials>
    <user>testusr</user>
    <password>testpwd</password>
</credentials>
```

## Produced APIzation

[`APIzator14968272.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/apizations/java/APIzator14968272.java)

```java
package com.stackoverflow.api;

import com.gargoylesoftware.htmlunit.javascript.host.dom.Document;
import com.gargoylesoftware.htmlunit.javascript.host.file.File;
import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;

/**
 * Java - Reading XML file
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/14968272">https://stackoverflow.com/a/14968272</a>
 */
public class APIzator14968272 {

  public static String file() throws RuntimeException {
    File file = new File("userdata.xml");
    DocumentBuilderFactory documentBuilderFactory = DocumentBuilderFactory.newInstance();
    DocumentBuilder documentBuilder = documentBuilderFactory.newDocumentBuilder();
    Document document = documentBuilder.parse(file);
    String usr = document.getElementsByTagName("user").item(0).getTextContent();
    return document.getElementsByTagName("password").item(0).getTextContent();
  }
}

```