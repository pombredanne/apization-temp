---
title: "[Q#20070382][A#20070532] Java String to JSON conversion"
question_title: "Java String to JSON conversion"
question_text: "i am getting data from restful api in String variable now i want to convert to JSON object but i am having problem while conversion it throws exception .Here is my code : MY string contain this is the string which i want in json but it shows me Exception in thread \"main\""
answer_text: "The name is present inside the data. You need to parse a JSON hierarchically to be able to fetch the data properly. Note: This example uses the org.json.JSONObject class and not org.json.simple.JSONObject. As \"Matthew\" mentioned in the comments that he is using org.json.simple.JSONObject, I'm adding my comment details in the answer. Try to use the org.json.JSONObject instead. But then if you can't change your JSON library, you can refer to this example which uses the same library as yours and check the how to read a json part from it. Sample from the link provided:"
apization_code: "package com.stackoverflow.api;  import com.google.gwt.json.client.JSONObject;  /**  * Java String to JSON conversion  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/20070532\">https://stackoverflow.com/a/20070532</a>  */ public class APIzator20070532 {    public static String string() throws RuntimeException {     // json     JSONObject jObject = new JSONObject(output);     // get data object     JSONObject data = jObject.getJSONObject(\"data\");     // get the name from data.     String projectname = data.getString(\"name\");     JSONObject jsonObject = (JSONObject) obj;     return (String) jsonObject.get(\"name\");   } }"
---

https://stackoverflow.com/q/20070382

i am getting data from restful api in String variable now i want to convert to JSON object but i am having problem while conversion it throws exception .Here is my code :
MY string contain
this is the string which i want in json but it shows me Exception in thread &quot;main&quot;


<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
URL url = new URL("SOME URL");

HttpURLConnection conn = (HttpURLConnection) url.openConnection();
conn.setRequestMethod("GET");
conn.setRequestProperty("Accept", "application/json");

BufferedReader br = new BufferedReader(new InputStreamReader(
        (conn.getInputStream())));

String output;
System.out.println("Output from Server .... \n");
while ((output = br.readLine()) != null) {
    System.out.println(output);
}

conn.disconnect();


JSONObject jObject  = new JSONObject(output);
String projecname=(String) jObject.get("name");
System.out.print(projecname);
{"data":{"name":"New Product","id":1,"description":"","is_active":true,"parent":{"id":0,"name":"All Projects"}}}
java.lang.NullPointerException
    at java.io.StringReader.<init>(Unknown Source)
    at org.json.JSONTokener.<init>(JSONTokener.java:83)
    at org.json.JSONObject.<init>(JSONObject.java:310)
    at Main.main(Main.java:37)
```


## Original code snippet

https://stackoverflow.com/a/20070532

The name is present inside the data. You need to parse a JSON hierarchically to be able to fetch the data properly.
Note: This example uses the org.json.JSONObject class and not org.json.simple.JSONObject.
As &quot;Matthew&quot; mentioned in the comments that he is using org.json.simple.JSONObject, I&#x27;m adding my comment details in the answer.
Try to use the org.json.JSONObject instead. But then if you can&#x27;t change your JSON library, you can refer to this example which uses the same library as yours and check the how to read a json part from it.
Sample from the link provided:

<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
JSONObject jObject  = new JSONObject(output); // json
JSONObject data = jObject.getJSONObject("data"); // get data object
String projectname = data.getString("name"); // get the name from data.
JSONObject jsonObject = (JSONObject) obj;
String name = (String) jsonObject.get("name");
```

## Produced APIzation

[`APIzator20070532.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/search/APIzator20070532.java)

<div class="code-logo"><img src="/apizator.png" /></div>

```java
package com.stackoverflow.api;

import com.google.gwt.json.client.JSONObject;

/**
 * Java String to JSON conversion
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/20070532">https://stackoverflow.com/a/20070532</a>
 */
public class APIzator20070532 {

  public static String string() throws RuntimeException {
    // json
    JSONObject jObject = new JSONObject(output);
    // get data object
    JSONObject data = jObject.getJSONObject("data");
    // get the name from data.
    String projectname = data.getString("name");
    JSONObject jsonObject = (JSONObject) obj;
    return (String) jsonObject.get("name");
  }
}

```