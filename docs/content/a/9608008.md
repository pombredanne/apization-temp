---
title: "[Q#9607903][A#9608008] Get domain name from given url"
question_title: "Get domain name from given url"
question_text: "Given a URL, I want to extract domain name(It should not include 'www' part). Url can contain http/https. Here is the java code that I wrote. Though It seems to work fine, is there any better approach or are there some edge cases, that could fail. Input: http://google.com/blah Output: google.com"
answer_text: "If you want to parse a URL, use java.net.URI.  java.net.URL has a bunch of problems -- its equals method does a DNS lookup which means code using it can be vulnerable to denial of service attacks when used with untrusted inputs. \"Mr. Gosling -- why did you make url equals suck?\" explains one such problem.  Just get in the habit of using java.net.URI instead. should do what you want. Though It seems to work fine, is there any better approach or are there some edge cases, that could fail. Your code as written fails for the valid URLs: Hierarchical URLs have a complex grammar.  If you try to roll your own parser without carefully reading RFC 3986, you will probably get it wrong.  Just use the one that's built into the core libraries. If you really need to deal with messy inputs that java.net.URI rejects, see RFC 3986 Appendix B: As the \"first-match-wins\" algorithm is identical to the \"greedy\"      disambiguation method used by POSIX regular expressions, it is      natural and commonplace to use a regular expression for parsing the      potential five components of a URI reference. The following line is the regular expression for breaking-down a      well-formed URI reference into its components. The numbers in the second line above are only to assist readability;      they indicate the reference points for each subexpression (i.e., each      paired parenthesis)."
apization_code: "package com.stackoverflow.api;  import java.net.URISyntaxException;  /**  * Get domain name from given url  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/9608008\">https://stackoverflow.com/a/9608008</a>  */ public class APIzator9608008 {    public static String getDomainName(String url) throws URISyntaxException {     URI uri = new URI(url);     String domain = uri.getHost();     return domain.startsWith(\"www.\") ? domain.substring(4) : domain;   } }"
---

https://stackoverflow.com/q/9607903

Given a URL, I want to extract domain name(It should not include &#x27;www&#x27; part). Url can contain http/https. Here is the java code that I wrote. Though It seems to work fine, is there any better approach or are there some edge cases, that could fail.
Input: http://google.com/blah
Output: google.com


```java
public static String getDomainName(String url) throws MalformedURLException{
    if(!url.startsWith("http") && !url.startsWith("https")){
         url = "http://" + url;
    }        
    URL netUrl = new URL(url);
    String host = netUrl.getHost();
    if(host.startsWith("www")){
        host = host.substring("www".length()+1);
    }
    return host;
}
```


## Original code snippet

https://stackoverflow.com/a/9608008

If you want to parse a URL, use java.net.URI.  java.net.URL has a bunch of problems -- its equals method does a DNS lookup which means code using it can be vulnerable to denial of service attacks when used with untrusted inputs.
&quot;Mr. Gosling -- why did you make url equals suck?&quot; explains one such problem.  Just get in the habit of using java.net.URI instead.
should do what you want.
Though It seems to work fine, is there any better approach or are there some edge cases, that could fail.
Your code as written fails for the valid URLs:
Hierarchical URLs have a complex grammar.  If you try to roll your own parser without carefully reading RFC 3986, you will probably get it wrong.  Just use the one that&#x27;s built into the core libraries.
If you really need to deal with messy inputs that java.net.URI rejects, see RFC 3986 Appendix B:
As the &quot;first-match-wins&quot; algorithm is identical to the &quot;greedy&quot;
     disambiguation method used by POSIX regular expressions, it is
     natural and commonplace to use a regular expression for parsing the
     potential five components of a URI reference.
The following line is the regular expression for breaking-down a
     well-formed URI reference into its components.
The numbers in the second line above are only to assist readability;
     they indicate the reference points for each subexpression (i.e., each
     paired parenthesis).

```java
public static String getDomainName(String url) throws URISyntaxException {
    URI uri = new URI(url);
    String domain = uri.getHost();
    return domain.startsWith("www.") ? domain.substring(4) : domain;
}
^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?
   12            3  4          5       6  7        8 9
```

## Produced APIzation

[`APIzator9608008.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/apizations/java/APIzator9608008.java)

```java
package com.stackoverflow.api;

import java.net.URISyntaxException;

/**
 * Get domain name from given url
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/9608008">https://stackoverflow.com/a/9608008</a>
 */
public class APIzator9608008 {

  public static String getDomainName(String url) throws URISyntaxException {
    URI uri = new URI(url);
    String domain = uri.getHost();
    return domain.startsWith("www.") ? domain.substring(4) : domain;
  }
}

```