---
title: "[Q#205573][A#9240969] At runtime, find all classes in a Java application that extend a base class"
question_title: "At runtime, find all classes in a Java application that extend a base class"
question_text: "I want to do something like this: So, I want to look at all of the classes in my application's universe, and when I find one that descends from Animal, I want to create a new object of that type and add it to the list.  This allows me to add functionality without having to update a list of things.  I can avoid the following: With the above approach, I can simply create a new class that extends Animal and it'll get picked up automatically. UPDATE: 10/16/2008 9:00 a.m. Pacific Standard Time: This question has generated a lot of great responses -- thank you.  From the responses and my research, I've found that what I really want to do is just not possible under Java.  There are approaches, such as ddimitrov's ServiceLoader mechanism that can work -- but they are very heavy for what I want, and I believe I simply move the problem from Java code to an external configuration file. Another way to state what I want: a static function in my Animal class finds and instantiates all classes that inherit from Animal -- without any further configuration/coding.  If I have to configure, I might as well just instantiate them in the Animal class anyway.  I understand that because a Java program is just a loose federation of .class files that that's just the way it is. Interestingly, it seems this is fairly trivial in C#."
answer_text: "I use org.reflections:"
apization_code: "package com.stackoverflow.api;  import org.reflections.Reflections; import scala.reflect.internal.util.Set;  /**  * At runtime, find all classes in a Java application that extend a base class  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/9240969\">https://stackoverflow.com/a/9240969</a>  */ public class APIzator9240969 {    public static Set<Class<? extends MyInterface>> findClass()     throws RuntimeException {     Reflections reflections = new Reflections(\"com.mycompany\");     return reflections.getSubTypesOf(MyInterface.class);   } }"
---

https://stackoverflow.com/q/205573

I want to do something like this:
So, I want to look at all of the classes in my application&#x27;s universe, and when I find one that descends from Animal, I want to create a new object of that type and add it to the list.  This allows me to add functionality without having to update a list of things.  I can avoid the following:
With the above approach, I can simply create a new class that extends Animal and it&#x27;ll get picked up automatically.
UPDATE: 10/16/2008 9:00 a.m. Pacific Standard Time:
This question has generated a lot of great responses -- thank you.  From the responses and my research, I&#x27;ve found that what I really want to do is just not possible under Java.  There are approaches, such as ddimitrov&#x27;s ServiceLoader mechanism that can work -- but they are very heavy for what I want, and I believe I simply move the problem from Java code to an external configuration file.
Another way to state what I want: a static function in my Animal class finds and instantiates all classes that inherit from Animal -- without any further configuration/coding.  If I have to configure, I might as well just instantiate them in the Animal class anyway.  I understand that because a Java program is just a loose federation of .class files that that&#x27;s just the way it is.
Interestingly, it seems this is fairly trivial in C#.


<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
List<Animal> animals = new ArrayList<Animal>();

for( Class c: list_of_all_classes_available_to_my_app() )
   if (c is Animal)
      animals.add( new c() );
List<Animal> animals = new ArrayList<Animal>();
animals.add( new Dog() );
animals.add( new Cat() );
animals.add( new Donkey() );
...
```


## Original code snippet

https://stackoverflow.com/a/9240969

I use org.reflections:

<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
Reflections reflections = new Reflections("com.mycompany");    
Set<Class<? extends MyInterface>> classes = reflections.getSubTypesOf(MyInterface.class);
```

## Produced APIzation

[`APIzator9240969.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/search/APIzator9240969.java)

<div class="code-logo"><img src="/apizator.png" /></div>

```java
package com.stackoverflow.api;

import org.reflections.Reflections;
import scala.reflect.internal.util.Set;

/**
 * At runtime, find all classes in a Java application that extend a base class
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/9240969">https://stackoverflow.com/a/9240969</a>
 */
public class APIzator9240969 {

  public static Set<Class<? extends MyInterface>> findClass()
    throws RuntimeException {
    Reflections reflections = new Reflections("com.mycompany");
    return reflections.getSubTypesOf(MyInterface.class);
  }
}

```