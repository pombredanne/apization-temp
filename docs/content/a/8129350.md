---
title: "[Q#8120220][A#8129350] How to use parameters with HttpPost"
question_title: "How to use parameters with HttpPost"
question_text: "I am using a RESTfull webservice with this methode: In my Android app I want to call this method. How do I give the correct values to the parameters using org.apache.http.client.methods.HttpPost; I have noticed that I can use the annotation @HeaderParam and simply add headers to the HttpPost object. Is this the correct way? Doing it like: Using the setEntity methode on httpPost won't work. It only sets the parameter str1 with the json string. When using it like:"
answer_text: "To set parameters to your HttpPostRequest you can use BasicNameValuePair, something like this :"
apization_code: "package com.stackoverflow.api;  import com.amazonaws.util.NameValuePair; import java.util.ArrayList; import org.apache.http.HttpResponse; import org.apache.http.client.HttpClient; import org.apache.http.client.entity.UrlEncodedFormEntity; import org.apache.http.client.methods.HttpPost; import org.apache.http.impl.client.DefaultHttpClient; import org.apache.http.message.BasicNameValuePair;  /**  * How to use parameters with HttpPost  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/8129350\">https://stackoverflow.com/a/8129350</a>  */ public class APIzator8129350 {    public static HttpResponse useParameter() throws RuntimeException {     HttpClient httpclient;     HttpPost httppost;     ArrayList<NameValuePair> postParameters;     httpclient = new DefaultHttpClient();     httppost = new HttpPost(\"your login link\");     postParameters = new ArrayList<NameValuePair>();     postParameters.add(new BasicNameValuePair(\"param1\", \"param1_value\"));     postParameters.add(new BasicNameValuePair(\"param2\", \"param2_value\"));     httpPost.setEntity(new UrlEncodedFormEntity(postParameters, \"UTF-8\"));     return httpclient.execute(httpPost);   } }"
---

https://stackoverflow.com/q/8120220

I am using a RESTfull webservice with this methode:
In my Android app I want to call this method. How do I give the correct values to the parameters using org.apache.http.client.methods.HttpPost;
I have noticed that I can use the annotation @HeaderParam and simply add headers to the HttpPost object. Is this the correct way? Doing it like:
Using the setEntity methode on httpPost won&#x27;t work. It only sets the parameter str1 with the json string. When using it like:


```java
@POST
@Consumes({"application/json"})
@Path("create/")
public void create(String str1, String str2){
System.out.println("value 1 = " + str1);
System.out.println("value 2 = " + str2);
}
httpPost.setHeader("Accept", "application/json");
httpPost.setHeader("str1", "a value");
httpPost.setHeader("str2", "another value");
JSONObject json = new JSONObject();
json.put("str1", "a value");
json.put("str2", "another value");
HttpEntity e = new StringEntity(json.toString());
httpPost.setEntity(e);
//server output: value 1 = {"str1":"a value","str2":"another value"}
```


## Original code snippet

https://stackoverflow.com/a/8129350

To set parameters to your HttpPostRequest you can use BasicNameValuePair, something like this :

```java
HttpClient httpclient;
    HttpPost httppost;
    ArrayList<NameValuePair> postParameters;
    httpclient = new DefaultHttpClient();
    httppost = new HttpPost("your login link");


    postParameters = new ArrayList<NameValuePair>();
    postParameters.add(new BasicNameValuePair("param1", "param1_value"));
    postParameters.add(new BasicNameValuePair("param2", "param2_value"));

    httpPost.setEntity(new UrlEncodedFormEntity(postParameters, "UTF-8"));

    HttpResponse response = httpclient.execute(httpPost);
```

## Produced APIzation

[`APIzator8129350.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/apizations/java/APIzator8129350.java)

```java
package com.stackoverflow.api;

import com.amazonaws.util.NameValuePair;
import java.util.ArrayList;
import org.apache.http.HttpResponse;
import org.apache.http.client.HttpClient;
import org.apache.http.client.entity.UrlEncodedFormEntity;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.message.BasicNameValuePair;

/**
 * How to use parameters with HttpPost
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/8129350">https://stackoverflow.com/a/8129350</a>
 */
public class APIzator8129350 {

  public static HttpResponse useParameter() throws RuntimeException {
    HttpClient httpclient;
    HttpPost httppost;
    ArrayList<NameValuePair> postParameters;
    httpclient = new DefaultHttpClient();
    httppost = new HttpPost("your login link");
    postParameters = new ArrayList<NameValuePair>();
    postParameters.add(new BasicNameValuePair("param1", "param1_value"));
    postParameters.add(new BasicNameValuePair("param2", "param2_value"));
    httpPost.setEntity(new UrlEncodedFormEntity(postParameters, "UTF-8"));
    return httpclient.execute(httpPost);
  }
}

```