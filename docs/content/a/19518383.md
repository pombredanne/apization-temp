---
title: "[Q#19517538][A#19518383] Ignoring SSL certificate in Apache HttpClient 4.3"
question_title: "Ignoring SSL certificate in Apache HttpClient 4.3"
question_text: "How to ignore SSL certificate (trust all) for Apache HttpClient 4.3? All the answers that I have found on SO treat previous versions, and the API changed. Related: Edit:"
answer_text: "The code below works for trusting self-signed certificates. You have to use the TrustSelfSignedStrategy when creating your client: I did not include the SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER on purpose: The point was to allow testing with self signed certificates so you don't have to acquire a proper certificate from a certification authority. You can easily create a self-signed certificate with the correct host name, so do that instead of adding the SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER flag."
apization_code: "package com.stackoverflow.api;  import org.apache.http.HttpEntity; import org.apache.http.client.methods.CloseableHttpResponse; import org.apache.http.client.methods.HttpGet; import org.apache.http.conn.ssl.SSLConnectionSocketFactory; import org.apache.http.conn.ssl.SSLContextBuilder; import org.apache.http.conn.ssl.TrustSelfSignedStrategy; import org.apache.http.impl.client.CloseableHttpClient; import org.apache.http.impl.client.HttpClients; import org.apache.http.util.EntityUtils;  /**  * Ignoring SSL certificate in Apache HttpClient 4.3  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/19518383\">https://stackoverflow.com/a/19518383</a>  */ public class APIzator19518383 {    public static void ignoreCertificate() throws RuntimeException {     SSLContextBuilder builder = new SSLContextBuilder();     builder.loadTrustMaterial(null, new TrustSelfSignedStrategy());     SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(       builder.build()     );     CloseableHttpClient httpclient = HttpClients       .custom()       .setSSLSocketFactory(sslsf)       .build();     HttpGet httpGet = new HttpGet(\"https://some-server\");     CloseableHttpResponse response = httpclient.execute(httpGet);     try {       System.out.println(response.getStatusLine());       HttpEntity entity = response.getEntity();       EntityUtils.consume(entity);     } finally {       response.close();     }   } }"
---

https://stackoverflow.com/q/19517538

How to ignore SSL certificate (trust all) for Apache HttpClient 4.3?
All the answers that I have found on SO treat previous versions, and the API changed.
Related:
Edit:



## Original code snippet

https://stackoverflow.com/a/19518383

The code below works for trusting self-signed certificates. You have to use the TrustSelfSignedStrategy when creating your client:
I did not include the SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER on purpose: The point was to allow testing with self signed certificates so you don&#x27;t have to acquire a proper certificate from a certification authority. You can easily create a self-signed certificate with the correct host name, so do that instead of adding the SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER flag.

```java
SSLContextBuilder builder = new SSLContextBuilder();
    builder.loadTrustMaterial(null, new TrustSelfSignedStrategy());
    SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(
            builder.build());
    CloseableHttpClient httpclient = HttpClients.custom().setSSLSocketFactory(
            sslsf).build();

    HttpGet httpGet = new HttpGet("https://some-server");
    CloseableHttpResponse response = httpclient.execute(httpGet);
    try {
        System.out.println(response.getStatusLine());
        HttpEntity entity = response.getEntity();
        EntityUtils.consume(entity);
    }
    finally {
        response.close();
    }
```

## Produced APIzation

[`APIzator19518383.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/apizations/java/APIzator19518383.java)

```java
package com.stackoverflow.api;

import org.apache.http.HttpEntity;
import org.apache.http.client.methods.CloseableHttpResponse;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.conn.ssl.SSLConnectionSocketFactory;
import org.apache.http.conn.ssl.SSLContextBuilder;
import org.apache.http.conn.ssl.TrustSelfSignedStrategy;
import org.apache.http.impl.client.CloseableHttpClient;
import org.apache.http.impl.client.HttpClients;
import org.apache.http.util.EntityUtils;

/**
 * Ignoring SSL certificate in Apache HttpClient 4.3
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/19518383">https://stackoverflow.com/a/19518383</a>
 */
public class APIzator19518383 {

  public static void ignoreCertificate() throws RuntimeException {
    SSLContextBuilder builder = new SSLContextBuilder();
    builder.loadTrustMaterial(null, new TrustSelfSignedStrategy());
    SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(
      builder.build()
    );
    CloseableHttpClient httpclient = HttpClients
      .custom()
      .setSSLSocketFactory(sslsf)
      .build();
    HttpGet httpGet = new HttpGet("https://some-server");
    CloseableHttpResponse response = httpclient.execute(httpGet);
    try {
      System.out.println(response.getStatusLine());
      HttpEntity entity = response.getEntity();
      EntityUtils.consume(entity);
    } finally {
      response.close();
    }
  }
}

```