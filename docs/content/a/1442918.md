---
title: "[Q#1442893][A#1442918] Implementing a simple file download servlet"
question_title: "Implementing a simple file download servlet"
question_text: "How should I implement simple file download servlet? The idea is that with the GET request index.jsp?filename=file.txt, the user can download for example. file.txt from the file servlet and the file servlet would upload that file to user. I am able to get the file, but how can I implement file download?"
answer_text: "That depends. If said file is publicly available via your HTTP server or servlet container you can simply redirect to via response.sendRedirect(). If it's not, you'll need to manually copy it to response output stream: You'll need to handle the appropriate exceptions, of course."
apization_code: "package com.stackoverflow.api;  import java.io.FileInputStream; import java.io.OutputStream;  /**  * Implementing a simple file download servlet  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/1442918\">https://stackoverflow.com/a/1442918</a>  */ public class APIzator1442918 {    public static void servlet(byte[] buffer) throws RuntimeException {     OutputStream out = response.getOutputStream();     FileInputStream in = new FileInputStream(my_file);     int length;     while ((length = in.read(buffer)) > 0) {       out.write(buffer, 0, length);     }     in.close();     out.flush();   } }"
---

https://stackoverflow.com/q/1442893

How should I implement simple file download servlet?
The idea is that with the GET request index.jsp?filename=file.txt, the user can download for example. file.txt from the file servlet and the file servlet would upload that file to user.
I am able to get the file, but how can I implement file download?



## Original code snippet

https://stackoverflow.com/a/1442918

That depends. If said file is publicly available via your HTTP server or servlet container you can simply redirect to via response.sendRedirect().
If it&#x27;s not, you&#x27;ll need to manually copy it to response output stream:
You&#x27;ll need to handle the appropriate exceptions, of course.

```java
OutputStream out = response.getOutputStream();
FileInputStream in = new FileInputStream(my_file);
byte[] buffer = new byte[4096];
int length;
while ((length = in.read(buffer)) > 0){
    out.write(buffer, 0, length);
}
in.close();
out.flush();
```

## Produced APIzation

[`APIzator1442918.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/apizations/java/APIzator1442918.java)

```java
package com.stackoverflow.api;

import java.io.FileInputStream;
import java.io.OutputStream;

/**
 * Implementing a simple file download servlet
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/1442918">https://stackoverflow.com/a/1442918</a>
 */
public class APIzator1442918 {

  public static void servlet(byte[] buffer) throws RuntimeException {
    OutputStream out = response.getOutputStream();
    FileInputStream in = new FileInputStream(my_file);
    int length;
    while ((length = in.read(buffer)) > 0) {
      out.write(buffer, 0, length);
    }
    in.close();
    out.flush();
  }
}

```