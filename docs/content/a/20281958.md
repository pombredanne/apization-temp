---
title: "[Q#20281835][A#20281958] How to delete a folder with files using Java"
question_title: "How to delete a folder with files using Java"
question_text: "I want to create and delete a directory using Java, but it isn't working."
answer_text: "Java isn't able to delete folders with data in it. You have to delete all files before deleting the folder. Use something like: Then you should be able to delete the folder by using index.delete() Untested!"
apization_code: "package com.stackoverflow.api;  import com.gargoylesoftware.htmlunit.javascript.host.file.File;  /**  * How to delete a folder with files using Java  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/20281958\">https://stackoverflow.com/a/20281958</a>  */ public class APIzator20281958 {    public static void deleteFolder() throws RuntimeException {     String[] entries = index.list();     for (String s : entries) {       File currentFile = new File(index.getPath(), s);       currentFile.delete();     }   } }"
---

https://stackoverflow.com/q/20281835

I want to create and delete a directory using Java, but it isn&#x27;t working.


<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
File index = new File("/home/Work/Indexer1");
if (!index.exists()) {
    index.mkdir();
} else {
    index.delete();
    if (!index.exists()) {
        index.mkdir();
    }
}
```


## Original code snippet

https://stackoverflow.com/a/20281958

Java isn&#x27;t able to delete folders with data in it. You have to delete all files before deleting the folder.
Use something like:
Then you should be able to delete the folder by using index.delete()
Untested!

<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
String[]entries = index.list();
for(String s: entries){
    File currentFile = new File(index.getPath(),s);
    currentFile.delete();
}
```

## Produced APIzation

[`APIzator20281958.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/search/APIzator20281958.java)

<div class="code-logo"><img src="/apizator.png" /></div>

```java
package com.stackoverflow.api;

import com.gargoylesoftware.htmlunit.javascript.host.file.File;

/**
 * How to delete a folder with files using Java
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/20281958">https://stackoverflow.com/a/20281958</a>
 */
public class APIzator20281958 {

  public static void deleteFolder() throws RuntimeException {
    String[] entries = index.list();
    for (String s : entries) {
      File currentFile = new File(index.getPath(), s);
      currentFile.delete();
    }
  }
}

```