---
title: "[Q#2120255][A#2120279] ResultSet exception - before start of result set"
question_title: "ResultSet exception - before start of result set"
question_text: "I'm having trouble getting data from a ResultSet object. Here is my code: The error trace: What am I doing wrong here?"
answer_text: "Basically you are positioning the cursor before the first row and then requesting data. You need to move the cursor to the first row. It is common to do this in an if statement or loop."
apization_code: "package com.stackoverflow.api;  /**  * ResultSet exception - before start of result set  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/2120279\">https://stackoverflow.com/a/2120279</a>  */ public class APIzator2120279 {    public static void exception() throws RuntimeException {     result.next();     String foundType = result.getString(1);     if (result.next()) {       foundType = result.getString(1);     }   } }"
---

https://stackoverflow.com/q/2120255

I&#x27;m having trouble getting data from a ResultSet object. Here is my code:
The error trace:
What am I doing wrong here?


<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
String sql = "SELECT type FROM node WHERE nid = ?";
    PreparedStatement prep = conn.prepareStatement(sql);
    int meetNID = Integer.parseInt(node.get(BoutField.field_meet_nid));
    prep.setInt(1, meetNID);

    ResultSet result = prep.executeQuery();
    result.beforeFirst();
    String foundType = result.getString(1);

    if (! foundType.equals("meet")) {
        throw new IllegalArgumentException(String.format("Node %d must be of type 'meet', but was %s", meetNID, foundType));
    }
Exception in thread "main" java.sql.SQLException: Before start of result set
    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1072)
    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:986)
    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:981)
    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:926)
    at com.mysql.jdbc.ResultSetImpl.checkRowPos(ResultSetImpl.java:841)
    at com.mysql.jdbc.ResultSetImpl.getStringInternal(ResultSetImpl.java:5656)
    at com.mysql.jdbc.ResultSetImpl.getString(ResultSetImpl.java:5576)
    at nth.cumf3.nodeImport.Validator.validate(Validator.java:43)
    at nth.cumf3.nodeImport.Main.main(Main.java:38)
```


## Original code snippet

https://stackoverflow.com/a/2120279

Basically you are positioning the cursor before the first row and then requesting data. You need to move the cursor to the first row.
It is common to do this in an if statement or loop.

<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
result.next();
 String foundType = result.getString(1);
if(result.next()){
   foundType = result.getString(1);
}
```

## Produced APIzation

[`APIzator2120279.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/search/APIzator2120279.java)

<div class="code-logo"><img src="/apizator.png" /></div>

```java
package com.stackoverflow.api;

/**
 * ResultSet exception - before start of result set
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/2120279">https://stackoverflow.com/a/2120279</a>
 */
public class APIzator2120279 {

  public static void exception() throws RuntimeException {
    result.next();
    String foundType = result.getString(1);
    if (result.next()) {
      foundType = result.getString(1);
    }
  }
}

```