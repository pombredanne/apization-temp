---
title: "[Q#9598707][A#9598988] GSON throwing \"Expected BEGIN_OBJECT but was BEGIN_ARRAY\"?"
question_title: "GSON throwing \"Expected BEGIN_OBJECT but was BEGIN_ARRAY\"?"
question_text: "I'm trying to parse a JSON string like this one into a list of objects. Here's an object class I'm using. But it throws me with Any ideas how should I fix it?"
answer_text: "The problem is you're telling Gson you have an object of your type. You don't. You have an array of objects of your type. You can't just try and cast the result like that and expect it to magically work ;) The User guide for Gson Explains how to deal with this: https://github.com/google/gson/blob/master/UserGuide.md This will work: But this is better:"
apization_code: "package com.stackoverflow.api;  /**  * GSON throwing \"Expected BEGIN_OBJECT but was BEGIN_ARRAY\"?  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/9598988\">https://stackoverflow.com/a/9598988</a>  */ public class APIzator9598988 {    public static Collection<ChannelSearchEnum> gson() throws RuntimeException {     ChannelSearchEnum[] enums = gson.fromJson(       yourJson,       ChannelSearchEnum[].class     );     Type collectionType = new TypeToken<Collection<ChannelSearchEnum>>() {}       .getType();     return gson.fromJson(yourJson, collectionType);   } }"
---

https://stackoverflow.com/q/9598707

I&#x27;m trying to parse a JSON string like this one
into a list of objects.
Here&#x27;s an object class I&#x27;m using.
But it throws me with
Any ideas how should I fix it?


<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
[
   {
      "updated_at":"2012-03-02 21:06:01",
      "fetched_at":"2012-03-02 21:28:37.728840",
      "description":null,
      "language":null,
      "title":"JOHN",
      "url":"http://rus.JOHN.JOHN/rss.php",
      "icon_url":null,
      "logo_url":null,
      "id":"4f4791da203d0c2d76000035",
      "modified":"2012-03-02 23:28:58.840076"
   },
   {
      "updated_at":"2012-03-02 14:07:44",
      "fetched_at":"2012-03-02 21:28:37.033108",
      "description":null,
      "language":null,
      "title":"PETER",
      "url":"http://PETER.PETER.lv/rss.php",
      "icon_url":null,
      "logo_url":null,
      "id":"4f476f61203d0c2d89000253",
      "modified":"2012-03-02 23:28:57.928001"
   }
]
List<ChannelSearchEnum> lcs = (List<ChannelSearchEnum>) new Gson().fromJson( jstring , ChannelSearchEnum.class);
import com.google.gson.annotations.SerializedName;

public class ChannelSearchEnum {



@SerializedName("updated_at")
private String updated_at;

@SerializedName("fetched_at")
private String fetched_at;

@SerializedName("description")
private String description;

@SerializedName("language")
private String language;

@SerializedName("title")
private String title;

@SerializedName("url")
private String url;

@SerializedName("icon_url")
private String icon_url;

@SerializedName("logo_url")
private String logo_url;

@SerializedName("id")
private String id;

@SerializedName("modified")
private String modified;

public final String get_Updated_at() {
    return this.updated_at;
}

public final String get_Fetched_at() {
    return this.fetched_at;
}

public final String get_Description() {
    return this.description;
}

public final String get_Language() {
    return this.language;
}

public final String get_Title() {
    return this.title;
}

public final String get_Url() {
    return this.url;
}

public final String get_Icon_url() {
    return this.icon_url;
}

public final String get_Logo_url() {
    return this.logo_url;
}

public final String get_Id() {
    return this.id;
}

public final String get_Modified() {
    return this.modified;
}

        }
com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was BEGIN_ARRAY at line 1 column 2
```


## Original code snippet

https://stackoverflow.com/a/9598988

The problem is you&#x27;re telling Gson you have an object of your type. You don&#x27;t. You have an array of objects of your type. You can&#x27;t just try and cast the result like that and expect it to magically work ;)
The User guide for Gson Explains how to deal with this:
https://github.com/google/gson/blob/master/UserGuide.md
This will work:
But this is better:

<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
ChannelSearchEnum[] enums = gson.fromJson(yourJson, ChannelSearchEnum[].class);
Type collectionType = new TypeToken<Collection<ChannelSearchEnum>>(){}.getType();
Collection<ChannelSearchEnum> enums = gson.fromJson(yourJson, collectionType);
```

## Produced APIzation

[`APIzator9598988.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/search/APIzator9598988.java)

<div class="code-logo"><img src="/apizator.png" /></div>

```java
package com.stackoverflow.api;

/**
 * GSON throwing "Expected BEGIN_OBJECT but was BEGIN_ARRAY"?
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/9598988">https://stackoverflow.com/a/9598988</a>
 */
public class APIzator9598988 {

  public static Collection<ChannelSearchEnum> gson() throws RuntimeException {
    ChannelSearchEnum[] enums = gson.fromJson(
      yourJson,
      ChannelSearchEnum[].class
    );
    Type collectionType = new TypeToken<Collection<ChannelSearchEnum>>() {}
      .getType();
    return gson.fromJson(yourJson, collectionType);
  }
}

```