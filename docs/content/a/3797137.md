---
title: "[Q#3796841][A#3797137] getting the difference between date in days in java"
question_title: "getting the difference between date in days in java"
question_text: "Possible Duplicate: how to calculate difference between two dates using java I'm trying something like this, where I'm trying to get the date from comboboxes I'm not able to subtract the end and start date  How do I get the difference between the start date and end date??"
answer_text: "This will not work when crossing daylight savings time (or leap seconds) as orange80 pointed out and might as well not give the expected results when using different times of day. Using JodaTime might be easier for correct results, as the only correct way with plain Java I know is to use Calendar's add and before/after methods to check and adjust the calculation:"
apization_code: "package com.stackoverflow.api;  import java.util.Calendar; import java.util.Calendar;  /**  * getting the difference between date in days in java  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/3797137\">https://stackoverflow.com/a/3797137</a>  */ public class APIzator3797137 {    public static void getDifference(int end, Calendar start)     throws RuntimeException {     int diffDays = 0;     start.add(Calendar.DAY_OF_MONTH, (int) diffDays);     while (start.before(end)) {       start.add(Calendar.DAY_OF_MONTH, 1);       diffDays++;     }     while (start.after(end)) {       start.add(Calendar.DAY_OF_MONTH, -1);       diffDays--;     }   } }"
---

https://stackoverflow.com/q/3796841

Possible Duplicate:
how to calculate difference between two dates using java
I&#x27;m trying something like this,
where I&#x27;m trying to get the date from comboboxes
I&#x27;m not able to subtract the end and start date 
How do I get the difference between the start date and end date??


<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
Calendar start = Calendar.getInstance();
Calendar end = Calendar.getInstance();  

int Sdate=Integer.parseInt(cmbSdate.getSelectedItem().toString());  
int Smonth=cmbSmonth.getSelectedIndex();
int Syear=Integer.parseInt(cmbSyear.getSelectedItem().toString());  

int Edate=Integer.parseInt(cmbEdate.getSelectedItem().toString());
int Emonth=cmbEmonth.getSelectedIndex();
int Eyear=Integer.parseInt(cmbEyear.getSelectedItem().toString());

start.set(Syear,Smonth,Sdate);  
end.set(Eyear,Emonth,Edate);

DateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd");
String startdate=dateFormat.format(start.getTime());  
String enddate=dateFormat.format(end.getTime());
```


## Original code snippet

https://stackoverflow.com/a/3797137

This will not work when crossing daylight savings time (or leap seconds) as orange80 pointed out and might as well not give the expected results when using different times of day. Using JodaTime might be easier for correct results, as the only correct way with plain Java I know is to use Calendar&#x27;s add and before/after methods to check and adjust the calculation:

<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
Calendar start = Calendar.getInstance();
Calendar end = Calendar.getInstance();
start.set(2010, 7, 23);
end.set(2010, 8, 26);
Date startDate = start.getTime();
Date endDate = end.getTime();
long startTime = startDate.getTime();
long endTime = endDate.getTime();
long diffTime = endTime - startTime;
long diffDays = diffTime / (1000 * 60 * 60 * 24);
DateFormat dateFormat = DateFormat.getDateInstance();
System.out.println("The difference between "+
  dateFormat.format(startDate)+" and "+
  dateFormat.format(endDate)+" is "+
  diffDays+" days.");
start.add(Calendar.DAY_OF_MONTH, (int)diffDays);
while (start.before(end)) {
    start.add(Calendar.DAY_OF_MONTH, 1);
    diffDays++;
}
while (start.after(end)) {
    start.add(Calendar.DAY_OF_MONTH, -1);
    diffDays--;
}
```

## Produced APIzation

[`APIzator3797137.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/search/APIzator3797137.java)

<div class="code-logo"><img src="/apizator.png" /></div>

```java
package com.stackoverflow.api;

import java.util.Calendar;
import java.util.Calendar;

/**
 * getting the difference between date in days in java
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/3797137">https://stackoverflow.com/a/3797137</a>
 */
public class APIzator3797137 {

  public static void getDifference(int end, Calendar start)
    throws RuntimeException {
    int diffDays = 0;
    start.add(Calendar.DAY_OF_MONTH, (int) diffDays);
    while (start.before(end)) {
      start.add(Calendar.DAY_OF_MONTH, 1);
      diffDays++;
    }
    while (start.after(end)) {
      start.add(Calendar.DAY_OF_MONTH, -1);
      diffDays--;
    }
  }
}

```