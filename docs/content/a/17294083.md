---
title: "[Q#17293991][A#17294083] How to write and read java serialized objects into a file"
question_title: "How to write and read java serialized objects into a file"
question_text: "I am going to write multiple objects to a file and then retrieve them in another part of my code. My code has no error, but it is not working properly. Could you please help me find what is wrong about my code. I have read different codes from different website, but none of them worked for me! Here is my code to write my objects to a file: MyClassList is an arraylist which includes objects of my class (which must be written to a file). I added \"true\" to the constructor of the outputstream, because I want to add each object to end of file. Is that correct? And here is my code to read the objects from the file: It finally prints just one object. Now, I don't know if I am not writing correctly or reading correctly!"
answer_text: "Why not serialize the whole list at once? Assuming, of course, that MyClassList is an ArrayList or LinkedList, or another Serializable collection. In the case of reading it back, in your code you ready only one item, there is no loop to gather all the item written."
apization_code: "package com.stackoverflow.api;  import java.io.FileOutputStream; import java.io.ObjectOutputStream;  /**  * How to write and read java serialized objects into a file  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/17294083\">https://stackoverflow.com/a/17294083</a>  */ public class APIzator17294083 {    public static void write() throws RuntimeException {     FileOutputStream fout = new FileOutputStream(\"G:\\\\address.ser\");     ObjectOutputStream oos = new ObjectOutputStream(fout);     oos.writeObject(MyClassList);   } }"
---

https://stackoverflow.com/q/17293991

I am going to write multiple objects to a file and then retrieve them in another part of my code. My code has no error, but it is not working properly. Could you please help me find what is wrong about my code.
I have read different codes from different website, but none of them worked for me!
Here is my code to write my objects to a file:
MyClassList is an arraylist which includes objects of my class (which must be written to a file).
I added &quot;true&quot; to the constructor of the outputstream, because I want to add each object to end of file. Is that correct?
And here is my code to read the objects from the file:
It finally prints just one object. Now, I don&#x27;t know if I am not writing correctly or reading correctly!


```java
for (int cnt = 0; cnt < MyClassList.size(); cnt++) {
    FileOutputStream fout = new FileOutputStream("G:\\address.ser", true);
    ObjectOutputStream oos = new ObjectOutputStream(fout);
    oos.writeObject(MyClassList.get(cnt));
}
try {
     streamIn = new FileInputStream("G:\\address.ser");
     ObjectInputStream objectinputstream = new ObjectInputStream(streamIn);
     MyClass readCase = (MyClass) objectinputstream.readObject();
     recordList.add(readCase);
     System.out.println(recordList.get(i));
 } catch (Exception e) {
     e.printStackTrace();
 }
```


## Original code snippet

https://stackoverflow.com/a/17294083

Why not serialize the whole list at once?
Assuming, of course, that MyClassList is an ArrayList or LinkedList, or another Serializable collection.
In the case of reading it back, in your code you ready only one item, there is no loop to gather all the item written.

```java
FileOutputStream fout = new FileOutputStream("G:\\address.ser");
ObjectOutputStream oos = new ObjectOutputStream(fout);
oos.writeObject(MyClassList);
```

## Produced APIzation

[`APIzator17294083.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/apizations/java/APIzator17294083.java)

```java
package com.stackoverflow.api;

import java.io.FileOutputStream;
import java.io.ObjectOutputStream;

/**
 * How to write and read java serialized objects into a file
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/17294083">https://stackoverflow.com/a/17294083</a>
 */
public class APIzator17294083 {

  public static void write() throws RuntimeException {
    FileOutputStream fout = new FileOutputStream("G:\\address.ser");
    ObjectOutputStream oos = new ObjectOutputStream(fout);
    oos.writeObject(MyClassList);
  }
}

```