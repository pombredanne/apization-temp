---
title: "[Q#19621838][A#19623090] CreateProcess error=2, The system cannot find the file specified"
question_title: "CreateProcess error=2, The system cannot find the file specified"
question_text: "I am writing a program in java which would execute winrar and unzip a jar file for me placed in h:\\myjar.jar into the folder h:\\new. My java code goes something like this When I execute this, I am getting this error Can anyone tell me why am I encountering such a problem. What is the change I need to incorporate in code so that it works?"
answer_text: "Assuming that winrar.exe is in the PATH, then Runtime.exec is capable of finding it, if it is not, you will need to supply the fully qualified path to it, for example, assuming winrar.exe is installed in C:/Program Files/WinRAR you would need to use something like... Personally, I would recommend that you use ProcessBuilder as it has some additional configuration abilities amongst other things.  Where possible, you should also separate your command and parameters into separate String elements, it deals with things like spaces much better then a single String variable, for example... Don't forget to read the contents of the InputStream from the process, as failing to do so may stall the process"
apization_code: "package com.stackoverflow.api;  import com.gargoylesoftware.htmlunit.javascript.host.file.File;  /**  * CreateProcess error=2, The system cannot find the file specified  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/19623090\">https://stackoverflow.com/a/19623090</a>  */ public class APIzator19623090 {    public static Process find() throws RuntimeException {     p = r.exec(\"C:/Program Files/WinRAR/winrar x h:\\\\myjar.jar *.* h:\\\\new\");     ProcessBuilder pb = new ProcessBuilder(       \"C:/Program Files/WinRAR/winrar\",       \"x\",       \"myjar.jar\",       \"*.*\",       \"new\"     );     pb.directory(new File(\"H:/\"));     pb.redirectErrorStream(true);     return pb.start();   } }"
---

https://stackoverflow.com/q/19621838

I am writing a program in java which would execute winrar and unzip a jar file for me placed in h:\myjar.jar into the folder h:\new. My java code goes something like this
When I execute this, I am getting this error
Can anyone tell me why am I encountering such a problem. What is the change I need to incorporate in code so that it works?


<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
import java.io.File;
import java.io.IOException;

public class MainClass {

    public static void main(String[] args) {

        Runtime r = Runtime.getRuntime();
        Process p = null;

        try {
            File dir = new File("C:/Program Files/WinRAR");
            p = r.exec("winrar x h:\\myjar.jar *.* h:\\new", null, dir);
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
java.io.IOException: Cannot run program "winrar" (in directory "C:\Program Files\WinRAR"): CreateProcess error=2, The system cannot find the file specified
    at java.lang.ProcessBuilder.start(Unknown Source)
    at java.lang.Runtime.exec(Unknown Source)
    at java.lang.Runtime.exec(Unknown Source)
    at MainClass.main(MainClass.java:16)
Caused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified
    at java.lang.ProcessImpl.create(Native Method)
    at java.lang.ProcessImpl.<init>(Unknown Source)
    at java.lang.ProcessImpl.start(Unknown Source)
    ... 4 more
```


## Original code snippet

https://stackoverflow.com/a/19623090

Assuming that winrar.exe is in the PATH, then Runtime.exec is capable of finding it, if it is not, you will need to supply the fully qualified path to it, for example, assuming winrar.exe is installed in C:/Program Files/WinRAR you would need to use something like...
Personally, I would recommend that you use ProcessBuilder as it has some additional configuration abilities amongst other things.  Where possible, you should also separate your command and parameters into separate String elements, it deals with things like spaces much better then a single String variable, for example...
Don&#x27;t forget to read the contents of the InputStream from the process, as failing to do so may stall the process

<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
p=r.exec("C:/Program Files/WinRAR/winrar x h:\\myjar.jar *.* h:\\new");
ProcessBuilder pb = new ProcessBuilder(
    "C:/Program Files/WinRAR/winrar",
    "x",
    "myjar.jar",
    "*.*",
    "new");
pb.directory(new File("H:/"));
pb. redirectErrorStream(true);

Process p = pb.start();
```

## Produced APIzation

[`APIzator19623090.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/search/APIzator19623090.java)

<div class="code-logo"><img src="/apizator.png" /></div>

```java
package com.stackoverflow.api;

import com.gargoylesoftware.htmlunit.javascript.host.file.File;

/**
 * CreateProcess error=2, The system cannot find the file specified
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/19623090">https://stackoverflow.com/a/19623090</a>
 */
public class APIzator19623090 {

  public static Process find() throws RuntimeException {
    p = r.exec("C:/Program Files/WinRAR/winrar x h:\\myjar.jar *.* h:\\new");
    ProcessBuilder pb = new ProcessBuilder(
      "C:/Program Files/WinRAR/winrar",
      "x",
      "myjar.jar",
      "*.*",
      "new"
    );
    pb.directory(new File("H:/"));
    pb.redirectErrorStream(true);
    return pb.start();
  }
}

```