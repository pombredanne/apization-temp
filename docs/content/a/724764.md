---
title: "[Q#724043][A#724764] HTTP URL Address Encoding in Java"
question_title: "HTTP URL Address Encoding in Java"
question_text: "My Java standalone application gets a URL (which points to a file) from the user and I need to hit it and download it. The problem I am facing is that I am not able to encode the HTTP URL address properly... Example: returns me: But, what I want is (space replaced by %20) I guess URLEncoder is not designed to encode HTTP URLs... The JavaDoc says \"Utility class for HTML form encoding\"... Is there any other way to do this?"
answer_text: "The java.net.URI class can help; in the documentation of URL you find Note, the URI class does perform escaping of its component fields in certain circumstances. The recommended way to manage the encoding and decoding of URLs is to use an URI Use one of the constructors with more than one argument, like: (the single-argument constructor of URI does NOT escape illegal characters) Only illegal characters get escaped by above code - it does NOT escape non-ASCII characters (see fatih's comment). The toASCIIString method can be used to get a String only with US-ASCII characters: For an URL with a query like http://www.google.com/ig/api?weather=São Paulo, use the 5-parameter version of the constructor:"
apization_code: "package com.stackoverflow.api;  /**  * HTTP URL Address Encoding in Java  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/724764\">https://stackoverflow.com/a/724764</a>  */ public class APIzator724764 {    public static void encoding(String str1) throws RuntimeException {     URI uri = new URI(\"http\", \"search.barnesandnoble.com\", str1, null);     URL url = uri.toURL();     // or String request = uri.toString();     URI uri = new URI(       \"http\",       \"search.barnesandnoble.com\",       \"/booksearch/é\",       null     );     String request = uri.toASCIIString();     URI uri = new URI(       \"http\",       \"www.google.com\",       \"/ig/api\",       \"weather=São Paulo\",       null     );     String request = uri.toASCIIString();   } }"
---

https://stackoverflow.com/q/724043

My Java standalone application gets a URL (which points to a file) from the user and I need to hit it and download it. The problem I am facing is that I am not able to encode the HTTP URL address properly...
Example:
returns me:
But, what I want is
(space replaced by %20)
I guess URLEncoder is not designed to encode HTTP URLs... The JavaDoc says &quot;Utility class for HTML form encoding&quot;... Is there any other way to do this?


```java
URL:  http://search.barnesandnoble.com/booksearch/first book.pdf

java.net.URLEncoder.encode(url.toString(), "ISO-8859-1");
http%3A%2F%2Fsearch.barnesandnoble.com%2Fbooksearch%2Ffirst+book.pdf
http://search.barnesandnoble.com/booksearch/first%20book.pdf
```


## Original code snippet

https://stackoverflow.com/a/724764

The java.net.URI class can help; in the documentation of URL you find
Note, the URI class does perform escaping of its component fields in certain circumstances. The recommended way to manage the encoding and decoding of URLs is to use an URI
Use one of the constructors with more than one argument, like:
(the single-argument constructor of URI does NOT escape illegal characters)
Only illegal characters get escaped by above code - it does NOT escape non-ASCII characters (see fatih&#x27;s comment).
The toASCIIString method can be used to get a String only with US-ASCII characters:
For an URL with a query like http://www.google.com/ig/api?weather=São Paulo, use the 5-parameter version of the constructor:

```java
URI uri = new URI(
    "http", 
    "search.barnesandnoble.com", 
    "/booksearch/first book.pdf",
    null);
URL url = uri.toURL();
//or String request = uri.toString();
URI uri = new URI(
    "http", 
    "search.barnesandnoble.com", 
    "/booksearch/é",
    null);
String request = uri.toASCIIString();
URI uri = new URI(
        "http", 
        "www.google.com", 
        "/ig/api",
        "weather=São Paulo",
        null);
String request = uri.toASCIIString();
```

## Produced APIzation

[`APIzator724764.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/apizations/java/APIzator724764.java)

```java
package com.stackoverflow.api;

/**
 * HTTP URL Address Encoding in Java
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/724764">https://stackoverflow.com/a/724764</a>
 */
public class APIzator724764 {

  public static void encoding(String str1) throws RuntimeException {
    URI uri = new URI("http", "search.barnesandnoble.com", str1, null);
    URL url = uri.toURL();
    // or String request = uri.toString();
    URI uri = new URI(
      "http",
      "search.barnesandnoble.com",
      "/booksearch/é",
      null
    );
    String request = uri.toASCIIString();
    URI uri = new URI(
      "http",
      "www.google.com",
      "/ig/api",
      "weather=São Paulo",
      null
    );
    String request = uri.toASCIIString();
  }
}

```