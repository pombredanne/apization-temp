---
title: "[Q#1994255][A#1994283] How to write console output to a txt file"
question_title: "How to write console output to a txt file"
question_text: "I have tried to write the console output to a txt file using this code suggestion (http://www.daniweb.com/forums/thread23883.html#) however I was not successful. What's wrong?"
answer_text: "You need to do something like this: The second statement is the key.  It changes the value of the supposedly \"final\" System.out attribute to be the supplied PrintStream value. There are analogous methods (setIn and setErr) for changing the standard input and error streams; refer to the java.lang.System javadocs for details. A more general version of the above is this: If append is true, the stream will append to an existing file instead of truncating it.  If autoflush is true, the output buffer will be flushed whenever a byte array is written, one of the println methods is called, or a \\n is written. I'd just like to add that it is usually a better idea to use a logging subsystem like Log4j, Logback or the standard Java java.util.logging subsystem.  These offer fine-grained logging control via runtime configuration files, support for rolling log files, feeds to system logging, and so on. Alternatively, if you are not \"logging\" then consider either: Changing System.out may cause nasty surprises for other code in your JVM that is not expecting this to happen."
apization_code: "package com.stackoverflow.api;  import java.io.FileOutputStream; import java.io.PrintStream;  /**  * How to write console output to a txt file  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/1994283\">https://stackoverflow.com/a/1994283</a>  */ public class APIzator1994283 {    public static void writeOutput(String str1) throws RuntimeException {     PrintStream out = new PrintStream(new FileOutputStream(str1));     System.setOut(out);     PrintStream out = new PrintStream(       new FileOutputStream(str1, append),       autoFlush     );     System.setOut(out);   } }"
---

https://stackoverflow.com/q/1994255

I have tried to write the console output to a txt file using this code suggestion (http://www.daniweb.com/forums/thread23883.html#) however I was not successful. What&#x27;s wrong?


```java
try {
      //create a buffered reader that connects to the console, we use it so we can read lines
      BufferedReader in = new BufferedReader(new InputStreamReader(System.in));

      //read a line from the console
      String lineFromInput = in.readLine();

      //create an print writer for writing to a file
      PrintWriter out = new PrintWriter(new FileWriter("output.txt"));

      //output to the file a line
      out.println(lineFromInput);

      //close the file (VERY IMPORTANT!)
      out.close();
   }
      catch(IOException e1) {
        System.out.println("Error during reading/writing");
   }
```


## Original code snippet

https://stackoverflow.com/a/1994283

You need to do something like this:
The second statement is the key.  It changes the value of the supposedly &quot;final&quot; System.out attribute to be the supplied PrintStream value.
There are analogous methods (setIn and setErr) for changing the standard input and error streams; refer to the java.lang.System javadocs for details.
A more general version of the above is this:
If append is true, the stream will append to an existing file instead of truncating it.  If autoflush is true, the output buffer will be flushed whenever a byte array is written, one of the println methods is called, or a \n is written.
I&#x27;d just like to add that it is usually a better idea to use a logging subsystem like Log4j, Logback or the standard Java java.util.logging subsystem.  These offer fine-grained logging control via runtime configuration files, support for rolling log files, feeds to system logging, and so on.
Alternatively, if you are not &quot;logging&quot; then consider either:
Changing System.out may cause nasty surprises for other code in your JVM that is not expecting this to happen.

```java
PrintStream out = new PrintStream(new FileOutputStream("output.txt"));
System.setOut(out);
PrintStream out = new PrintStream(
        new FileOutputStream("output.txt", append), autoFlush);
System.setOut(out);
```

## Produced APIzation

[`APIzator1994283.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/apizations/java/APIzator1994283.java)

```java
package com.stackoverflow.api;

import java.io.FileOutputStream;
import java.io.PrintStream;

/**
 * How to write console output to a txt file
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/1994283">https://stackoverflow.com/a/1994283</a>
 */
public class APIzator1994283 {

  public static void writeOutput(String str1) throws RuntimeException {
    PrintStream out = new PrintStream(new FileOutputStream(str1));
    System.setOut(out);
    PrintStream out = new PrintStream(
      new FileOutputStream(str1, append),
      autoFlush
    );
    System.setOut(out);
  }
}

```