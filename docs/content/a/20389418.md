---
title: "[Q#20389255][A#20389418] Reading a resource file from within jar"
question_title: "Reading a resource file from within jar"
question_text: "I would like to read a resource from within my jar like so: and it works fine when running it in Eclipse, but if I export it to a jar the run it there is an IllegalArgumentException: and I really don't know why but with some testing I found if I change to then it works the opposite (it works in jar but not eclipse). I'm using Eclipse and the folder with my file in is a class folder."
answer_text: "Rather than trying to address the resource as a File just ask the ClassLoader to return an InputStream for the resource instead via getResourceAsStream: As long as the file.txt resource is available on the classpath then this approach will work the same way regardless of whether the file.txt resource is in a classes/ directory or inside a jar. The URI is not hierarchical occurs because the URI for a resource within a jar file is going to look something like this: file:/example.jar!/file.txt. You cannot read the entries within a jar (a zip file) like it was a plain old File. This is explained well by the answers to:"
apization_code: "package com.stackoverflow.api;  import java.io.BufferedReader; import java.io.InputStream; import java.io.InputStreamReader;  /**  * Reading a resource file from within jar  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/20389418\">https://stackoverflow.com/a/20389418</a>  */ public class APIzator20389418 {    public static BufferedReader readFile(String str1) throws RuntimeException {     InputStream in = getClass().getResourceAsStream(str1);     return new BufferedReader(new InputStreamReader(in));   } }"
---

https://stackoverflow.com/q/20389255

I would like to read a resource from within my jar like so:
and it works fine when running it in Eclipse, but if I export it to a jar the run it there is an IllegalArgumentException:
and I really don&#x27;t know why but with some testing I found if I change
to
then it works the opposite (it works in jar but not eclipse).
I&#x27;m using Eclipse and the folder with my file in is a class folder.


<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
File file;
file = new File(getClass().getResource("/file.txt").toURI());
BufferredReader reader = new BufferedReader(new FileReader(file));

//Read the file
Exception in thread "Thread-2"
java.lang.IllegalArgumentException: URI is not hierarchical
file = new File(getClass().getResource("/file.txt").toURI());
file = new File(getClass().getResource("/folder/file.txt").toURI());
```


## Original code snippet

https://stackoverflow.com/a/20389418

Rather than trying to address the resource as a File just ask the ClassLoader to return an InputStream for the resource instead via getResourceAsStream:
As long as the file.txt resource is available on the classpath then this approach will work the same way regardless of whether the file.txt resource is in a classes/ directory or inside a jar.
The URI is not hierarchical occurs because the URI for a resource within a jar file is going to look something like this: file:/example.jar!/file.txt. You cannot read the entries within a jar (a zip file) like it was a plain old File.
This is explained well by the answers to:

<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
InputStream in = getClass().getResourceAsStream("/file.txt"); 
BufferedReader reader = new BufferedReader(new InputStreamReader(in));
```

## Produced APIzation

[`APIzator20389418.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/search/APIzator20389418.java)

<div class="code-logo"><img src="/apizator.png" /></div>

```java
package com.stackoverflow.api;

import java.io.BufferedReader;
import java.io.InputStream;
import java.io.InputStreamReader;

/**
 * Reading a resource file from within jar
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/20389418">https://stackoverflow.com/a/20389418</a>
 */
public class APIzator20389418 {

  public static BufferedReader readFile(String str1) throws RuntimeException {
    InputStream in = getClass().getResourceAsStream(str1);
    return new BufferedReader(new InputStreamReader(in));
  }
}

```