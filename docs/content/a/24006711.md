---
title: "[Q#2056221][A#24006711] Recursively list files in Java"
question_title: "Recursively list files in Java"
question_text: "How do I recursively list all files under a directory in Java? Does the framework provide any utility? I saw a lot of hacky implementations. But none from the framework or nio"
answer_text: "Java 8 provides a nice stream to process all files in a tree. This provides a natural way to traverse files. Since it's a stream you can do all nice stream operations on the result such as limit, grouping, mapping, exit early etc. UPDATE: I might point out there is also Files.find which takes a BiPredicate that could can be more efficient if you need to check file attributes. Note that while the JavaDoc eludes that this method could be more efficient than Files.walk it is effectively identical, the difference in performance can be observed if you are also retrieving file attributes within your filter. In the end, if you need to filter on attributes use Files.find, otherwise use Files.walk, mostly because there's overloads and it's more convenient. TESTS: As requested I've provided a performance comparison of many of the answers. Check out the Github project which contains results and a test case."
apization_code: "package com.stackoverflow.api;  import java.nio.file.Files; import java.nio.file.Paths;  /**  * Recursively list files in Java  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/24006711\">https://stackoverflow.com/a/24006711</a>  */ public class APIzator24006711 {    public static void listFile() throws RuntimeException {     Files       .walk(Paths.get(path))       .filter(Files::isRegularFile)       .forEach(System.out::println);     Files       .find(         Paths.get(path),         Integer.MAX_VALUE,         (filePath, fileAttr) -> fileAttr.isRegularFile()       )       .forEach(System.out::println);   } }"
---

https://stackoverflow.com/q/2056221

How do I recursively list all files under a directory in Java? Does the framework provide any utility?
I saw a lot of hacky implementations. But none from the framework or nio



## Original code snippet

https://stackoverflow.com/a/24006711

Java 8 provides a nice stream to process all files in a tree.
This provides a natural way to traverse files. Since it&#x27;s a stream you can do all nice stream operations on the result such as limit, grouping, mapping, exit early etc.
UPDATE: I might point out there is also Files.find which takes a BiPredicate that could can be more efficient if you need to check file attributes.
Note that while the JavaDoc eludes that this method could be more efficient than Files.walk it is effectively identical, the difference in performance can be observed if you are also retrieving file attributes within your filter. In the end, if you need to filter on attributes use Files.find, otherwise use Files.walk, mostly because there&#x27;s overloads and it&#x27;s more convenient.
TESTS: As requested I&#x27;ve provided a performance comparison of many of the answers. Check out the Github project which contains results and a test case.

<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
Files.walk(Paths.get(path))
        .filter(Files::isRegularFile)
        .forEach(System.out::println);
Files.find(Paths.get(path),
           Integer.MAX_VALUE,
           (filePath, fileAttr) -> fileAttr.isRegularFile())
        .forEach(System.out::println);
```

## Produced APIzation

[`APIzator24006711.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/search/APIzator24006711.java)

<div class="code-logo"><img src="/apizator.png" /></div>

```java
package com.stackoverflow.api;

import java.nio.file.Files;
import java.nio.file.Paths;

/**
 * Recursively list files in Java
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/24006711">https://stackoverflow.com/a/24006711</a>
 */
public class APIzator24006711 {

  public static void listFile() throws RuntimeException {
    Files
      .walk(Paths.get(path))
      .filter(Files::isRegularFile)
      .forEach(System.out::println);
    Files
      .find(
        Paths.get(path),
        Integer.MAX_VALUE,
        (filePath, fileAttr) -> fileAttr.isRegularFile()
      )
      .forEach(System.out::println);
  }
}

```