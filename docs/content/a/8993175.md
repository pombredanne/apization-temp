---
title: "[Q#8992964][A#8993175] Android load from URL to Bitmap"
question_title: "Android load from URL to Bitmap"
question_text: "I have a question about loading an image from a website. The code I use is: But it always returns a null pointer exception and the program crashes out. The URL is valid, and it seems to work for everyone else. I'm using 2.3.1."
answer_text: ""
apization_code: "package com.stackoverflow.api;  import android.graphics.Bitmap; import android.graphics.BitmapFactory; import java.io.IOException; import java.io.InputStream; import java.net.HttpURLConnection;  /**  * Android load from URL to Bitmap  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/8993175\">https://stackoverflow.com/a/8993175</a>  */ public class APIzator8993175 {    public static Bitmap getBitmapFromURL(String src) {     try {       URL url = new URL(src);       HttpURLConnection connection = (HttpURLConnection) url.openConnection();       connection.setDoInput(true);       connection.connect();       InputStream input = connection.getInputStream();       Bitmap myBitmap = BitmapFactory.decodeStream(input);       return myBitmap;     } catch (IOException e) {       // Log exception       return null;     }   } }"
---

https://stackoverflow.com/q/8992964

I have a question about loading an image from a website. The code I use is:
But it always returns a null pointer exception and the program crashes out.
The URL is valid, and it seems to work for everyone else.
I&#x27;m using 2.3.1.


```java
Display display = getWindowManager().getDefaultDisplay(); 
int width = display.getWidth();
int height = display.getHeight();
Bitmap bit=null;
try {
    bit = BitmapFactory.decodeStream((InputStream)new URL("http://www.mac-wallpapers.com/bulkupload/wallpapers/Apple%20Wallpapers/apple-black-logo-wallpaper.jpg").getContent());
} catch (Exception e) {}
Bitmap sc = Bitmap.createScaledBitmap(bit,width,height,true);
canvas.drawBitmap(sc,0,0,null);
```


## Original code snippet

https://stackoverflow.com/a/8993175



```java
public static Bitmap getBitmapFromURL(String src) {
    try {
        URL url = new URL(src);
        HttpURLConnection connection = (HttpURLConnection) url.openConnection();
        connection.setDoInput(true);
        connection.connect();
        InputStream input = connection.getInputStream();
        Bitmap myBitmap = BitmapFactory.decodeStream(input);
        return myBitmap;
    } catch (IOException e) {
        // Log exception
        return null;
    }
}
```

## Produced APIzation

[`APIzator8993175.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/apizations/java/APIzator8993175.java)

```java
package com.stackoverflow.api;

import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import java.io.IOException;
import java.io.InputStream;
import java.net.HttpURLConnection;

/**
 * Android load from URL to Bitmap
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/8993175">https://stackoverflow.com/a/8993175</a>
 */
public class APIzator8993175 {

  public static Bitmap getBitmapFromURL(String src) {
    try {
      URL url = new URL(src);
      HttpURLConnection connection = (HttpURLConnection) url.openConnection();
      connection.setDoInput(true);
      connection.connect();
      InputStream input = connection.getInputStream();
      Bitmap myBitmap = BitmapFactory.decodeStream(input);
      return myBitmap;
    } catch (IOException e) {
      // Log exception
      return null;
    }
  }
}

```