---
title: "[Q#1091788][A#1091817] How to create a zip file in Java"
question_title: "How to create a zip file in Java"
question_text: "I have a dynamic text file that picks content from a database according to the user's query. I have to write this content into a text file and zip it in a folder in a servlet. How should I do this?"
answer_text: "Look at this example: This will create a Zip-File located in the root of D: named 'test.zip' which will contain one single file called 'mytext.txt'. Of course you can add more zip entries and also specify a sub directory like: You can find more information about compression with java here: http://www.oracle.com/technetwork/articles/java/compress-1565076.html"
apization_code: "package com.stackoverflow.api;  import java.io.File; import java.io.FileOutputStream; import java.util.zip.ZipEntry; import java.util.zip.ZipOutputStream;  /**  * How to create a zip file in Java  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/1091817\">https://stackoverflow.com/a/1091817</a>  */ public class APIzator1091817 {    public static ZipEntry createFile(StringBuilder sb, String str1)     throws RuntimeException {     File f = new File(\"d:\\\\test.zip\");     ZipOutputStream out = new ZipOutputStream(new FileOutputStream(f));     ZipEntry e = new ZipEntry(str1);     out.putNextEntry(e);     byte[] data = sb.toString().getBytes();     out.write(data, 0, data.length);     out.closeEntry();     out.close();     return new ZipEntry(\"folderName/mytext.txt\");   } }"
---

https://stackoverflow.com/q/1091788

I have a dynamic text file that picks content from a database according to the user&#x27;s query. I have to write this content into a text file and zip it in a folder in a servlet. How should I do this?



## Original code snippet

https://stackoverflow.com/a/1091817

Look at this example:
This will create a Zip-File located in the root of D: named &#x27;test.zip&#x27; which will contain one single file called &#x27;mytext.txt&#x27;. Of course you can add more zip entries and also specify a sub directory like:
You can find more information about compression with java here:
http://www.oracle.com/technetwork/articles/java/compress-1565076.html

```java
StringBuilder sb = new StringBuilder();
sb.append("Test String");

File f = new File("d:\\test.zip");
ZipOutputStream out = new ZipOutputStream(new FileOutputStream(f));
ZipEntry e = new ZipEntry("mytext.txt");
out.putNextEntry(e);

byte[] data = sb.toString().getBytes();
out.write(data, 0, data.length);
out.closeEntry();

out.close();
ZipEntry e = new ZipEntry("folderName/mytext.txt");
```

## Produced APIzation

[`APIzator1091817.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/apizations/java/APIzator1091817.java)

```java
package com.stackoverflow.api;

import java.io.File;
import java.io.FileOutputStream;
import java.util.zip.ZipEntry;
import java.util.zip.ZipOutputStream;

/**
 * How to create a zip file in Java
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/1091817">https://stackoverflow.com/a/1091817</a>
 */
public class APIzator1091817 {

  public static ZipEntry createFile(StringBuilder sb, String str1)
    throws RuntimeException {
    File f = new File("d:\\test.zip");
    ZipOutputStream out = new ZipOutputStream(new FileOutputStream(f));
    ZipEntry e = new ZipEntry(str1);
    out.putNextEntry(e);
    byte[] data = sb.toString().getBytes();
    out.write(data, 0, data.length);
    out.closeEntry();
    out.close();
    return new ZipEntry("folderName/mytext.txt");
  }
}

```