---
title: "[Q#2397714][A#2397747] Java Try and Catch IOException Problem"
question_title: "Java Try and Catch IOException Problem"
question_text: "I am trying to use a bit of code I found at the bottom of this page.  Here is the code in a class that I created for it: My objective is to count the lines of a text file, store that number as an integer, then use that integer in my main class.  In my main class I tried a few different ways of making this happen, but (being a new programmer) I am missing something.  Here is the first thing I tried: With this attempt I get the error \"unreported exception java.io.IOException; must be caught or declared to be thrown.\"  I don't understand why I am getting this because as I can see the exception is declared in my \"countLines\" method.  I tried to use a try catch block right under that last bit of code I posted, but that didn't work either (I don't think I did it right though).  Here is my try catch attempt: Please show me the way!  Thanks in advance for your help!"
answer_text: "Initializer block is just like any bits of code; it's not \"attached\" to any field/method preceding it. To assign values to fields, you have to explicitly use the field as the lhs of an assignment statement. Also, your countLines can be made simpler: Based on my test, it looks like you can getLineNumber() after close()."
apization_code: "package com.stackoverflow.api;  import com.gargoylesoftware.htmlunit.javascript.host.file.FileReader; import java.io.IOException; import java.io.LineNumberReader;  /**  * Java Try and Catch IOException Problem  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/2397747\">https://stackoverflow.com/a/2397747</a>  */ public class APIzator2397747 {   private int lineCount;    {     try {       lineCount = LineCounter.countLines(sFileName);       /*^^^^^^^*/     } catch (IOException ex) {       System.out.println(ex.toString());       System.out.println(\"Could not find file \" + sFileName);     }   }    public static int countLines(String filename) throws IOException {     LineNumberReader reader = new LineNumberReader(new FileReader(filename));     while (reader.readLine() != null) {}     reader.close();     return reader.getLineNumber();   } }"
---

https://stackoverflow.com/q/2397714

I am trying to use a bit of code I found at the bottom of this page.  Here is the code in a class that I created for it:
My objective is to count the lines of a text file, store that number as an integer, then use that integer in my main class.  In my main class I tried a few different ways of making this happen, but (being a new programmer) I am missing something.  Here is the first thing I tried:
With this attempt I get the error &quot;unreported exception java.io.IOException; must be caught or declared to be thrown.&quot;  I don&#x27;t understand why I am getting this because as I can see the exception is declared in my &quot;countLines&quot; method.  I tried to use a try catch block right under that last bit of code I posted, but that didn&#x27;t work either (I don&#x27;t think I did it right though).  Here is my try catch attempt:
Please show me the way!  Thanks in advance for your help!


<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
import java.io.LineNumberReader;
import java.io.FileReader;
import java.io.IOException;

public class LineCounter {
  public static int countLines(String filename) throws IOException {
    LineNumberReader reader  = new LineNumberReader(new FileReader(filename));
    int cnt = 0;
    String lineRead = "";
    while ((lineRead = reader.readLine()) != null) {}
    cnt = reader.getLineNumber();
    reader.close();
    return cnt;
  }
}
String sFileName = "MyTextFile.txt";
private int lineCount = LineCounter.countLines(sFileName);
String sFileName = "MyTextFile.txt";
private int lineCount;{
    try{
        LineCounter.countLines(sFileName);
    }
    catch(IOException ex){
        System.out.println (ex.toString());
        System.out.println("Could not find file " + sFileName);
    }
}
```


## Original code snippet

https://stackoverflow.com/a/2397747

Initializer block is just like any bits of code; it&#x27;s not &quot;attached&quot; to any field/method preceding it. To assign values to fields, you have to explicitly use the field as the lhs of an assignment statement.
Also, your countLines can be made simpler:
Based on my test, it looks like you can getLineNumber() after close().

<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
private int lineCount; {
    try{
        lineCount = LineCounter.countLines(sFileName);
        /*^^^^^^^*/
    }
    catch(IOException ex){
        System.out.println (ex.toString());
        System.out.println("Could not find file " + sFileName);
    }
}
public static int countLines(String filename) throws IOException {
    LineNumberReader reader  = new LineNumberReader(new FileReader(filename));
    while (reader.readLine() != null) {}
    reader.close();
    return reader.getLineNumber();
  }
```

## Produced APIzation

[`APIzator2397747.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/search/APIzator2397747.java)

<div class="code-logo"><img src="/apizator.png" /></div>

```java
package com.stackoverflow.api;

import com.gargoylesoftware.htmlunit.javascript.host.file.FileReader;
import java.io.IOException;
import java.io.LineNumberReader;

/**
 * Java Try and Catch IOException Problem
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/2397747">https://stackoverflow.com/a/2397747</a>
 */
public class APIzator2397747 {
  private int lineCount;

  {
    try {
      lineCount = LineCounter.countLines(sFileName);
      /*^^^^^^^*/
    } catch (IOException ex) {
      System.out.println(ex.toString());
      System.out.println("Could not find file " + sFileName);
    }
  }

  public static int countLines(String filename) throws IOException {
    LineNumberReader reader = new LineNumberReader(new FileReader(filename));
    while (reader.readLine() != null) {}
    reader.close();
    return reader.getLineNumber();
  }
}

```