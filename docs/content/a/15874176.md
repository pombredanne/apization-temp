---
title: "[Q#15874117][A#15874176] How to set delay in android?"
question_title: "How to set delay in android?"
question_text: "I want to set a delay between the command between changing background. I tried using a thread timer and tried using run and catch. But it isn't working. I tried this But it is only getting changed to black."
answer_text: "Try this code:"
apization_code: "package com.stackoverflow.api;  import aj.org.objectweb.asm.Handler; import android.graphics.Color;  /**  * How to set delay in android?  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/15874176\">https://stackoverflow.com/a/15874176</a>  */ public class APIzator15874176 {    public static void setDelay() throws RuntimeException {     final Handler handler = new Handler();     handler.postDelayed(       new Runnable() {          @Override         public void run() {           // Do something after 5s = 5000ms           buttons[inew][jnew].setBackgroundColor(Color.BLACK);         }       },       5000     );   } }"
---

https://stackoverflow.com/q/15874117

I want to set a delay between the command between changing background. I tried using a thread timer and tried using run and catch. But it isn&#x27;t working. I tried this
But it is only getting changed to black.


<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
public void onClick(View v) {
        // TODO Auto-generated method stub
        switch(v.getId()){
        case R.id.rollDice:
            Random ranNum = new Random();
            int number = ranNum.nextInt(6) + 1;
            diceNum.setText(""+number);
            sum = sum + number;
            for(i=0;i<8;i++){
                for(j=0;j<8;j++){

                    int value =(Integer)buttons[i][j].getTag();
                    if(value==sum){
                        inew=i;
                        jnew=j;

                        buttons[inew][jnew].setBackgroundColor(Color.BLACK);
                                                //I want to insert a delay here
                        buttons[inew][jnew].setBackgroundColor(Color.WHITE);
                         break;                     
                    }
                }
            }


            break;

        }
    }
Thread timer = new Thread() {
            public void run(){
                try {
                                buttons[inew][jnew].setBackgroundColor(Color.BLACK);
                    sleep(5000);
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }

             }
           };
    timer.start();
   buttons[inew][jnew].setBackgroundColor(Color.WHITE);
```


## Original code snippet

https://stackoverflow.com/a/15874176

Try this code:

<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
final Handler handler = new Handler();
handler.postDelayed(new Runnable() {
    @Override
    public void run() {
        // Do something after 5s = 5000ms
        buttons[inew][jnew].setBackgroundColor(Color.BLACK);
    }
}, 5000);
```

## Produced APIzation

[`APIzator15874176.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/search/APIzator15874176.java)

<div class="code-logo"><img src="/apizator.png" /></div>

```java
package com.stackoverflow.api;

import aj.org.objectweb.asm.Handler;
import android.graphics.Color;

/**
 * How to set delay in android?
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/15874176">https://stackoverflow.com/a/15874176</a>
 */
public class APIzator15874176 {

  public static void setDelay() throws RuntimeException {
    final Handler handler = new Handler();
    handler.postDelayed(
      new Runnable() {

        @Override
        public void run() {
          // Do something after 5s = 5000ms
          buttons[inew][jnew].setBackgroundColor(Color.BLACK);
        }
      },
      5000
    );
  }
}

```