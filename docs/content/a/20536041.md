---
title: "[Q#10308356][A#20536041] How to obtain the start time and end time of a day?"
question_title: "How to obtain the start time and end time of a day?"
question_text: "How to obtain the start time and end time of a day? code like this is not accurate: It is not accurate to the millisecond."
answer_text: "The answer by mprivat is correct. His point is to not try to obtain end of a day, but rather compare to \"before start of next day\". His idea is known as the \"Half-Open\" approach where a span of time has a beginning that is inclusive while the ending is exclusive.  Joda-Time 2.3 offers a method for this very purpose, to obtain first moment of the day: withTimeAtStartOfDay(). Similarly in java.time, LocalDate::atStartOfDay. Search StackOverflow for \"joda half-open\" to see more discussion and examples. See this post, Time intervals and other ranges should be half-open, by Bill Schneider. The java.util.Date and .Calendar classes are notoriously troublesome. Avoid them. Use either Joda-Time or, preferably, java.time. The java.time framework is the official successor for the highly successful Joda-Time library. The java.time framework is built into Java 8 and later. Back-ported to Java 6 & 7 in the ThreeTen-Backport project, further adapted to Android in the ThreeTenABP project. An Instant is a moment on the timeline in UTC with a resolution of nanoseconds. Apply a time zone to get the wall-clock time for some locality. To get the first moment of the day go through the LocalDate class and its atStartOfDay method. Using Half-Open approach, get first moment of following day. Currently the java.time framework lacks an Interval class as described below for Joda-Time. However, the ThreeTen-Extra project extends java.time with additional classes. This project is the proving ground for possible future additions to java.time. Among its classes is Interval. Construct an Interval by passing a pair of Instant objects. We can extract an Instant from our ZonedDateTime objects. UPDATE: The Joda-Time project is now in maintenance-mode, and advises migration to the java.time classes. I am leaving this section intact for history. Joda-Time has three classes to represent a span of time in various ways: Interval, Period, and Duration. An Interval has a specific beginning and ending on the timeline of the Universe. This fits our need to represent \"a day\". We call the method withTimeAtStartOfDay rather than set time of day to zeros. Because of Daylight Saving Time and other anomalies the first moment of the day may not be 00:00:00. Example code using Joda-Time 2.3. If you must, you can convert to a java.util.Date."
apization_code: "package com.stackoverflow.api;  import com.google.appengine.repackaged.org.joda.time.DateTime; import com.google.appengine.repackaged.org.joda.time.DateTimeZone; import com.google.appengine.repackaged.org.joda.time.Instant; import com.google.appengine.repackaged.org.joda.time.Interval; import java.time.ZoneId; import java.time.ZonedDateTime;  /**  * How to obtain the start time and end time of a day?  *  * @author APIzator  * @see <a href=\"https://stackoverflow.com/a/20536041\">https://stackoverflow.com/a/20536041</a>  */ public class APIzator20536041 {    public static java.util.Date obtainTime() throws RuntimeException {     Instant instant = Instant.now();     ZoneId zoneId = ZoneId.of(\"America/Montreal\");     ZonedDateTime zdt = ZonedDateTime.ofInstant(instant, zoneId);     ZonedDateTime zdtStart = zdt.toLocalDate().atStartOfDay(zoneId);     ZonedDateTime zdtTomorrowStart = zdtStart.plusDays(1);     Interval today = Interval.of(       zdtStart.toInstant(),       zdtTomorrowStart.toInstant()     );     DateTimeZone timeZone = DateTimeZone.forID(\"America/Montreal\");     DateTime now = DateTime.now(timeZone);     DateTime todayStart = now.withTimeAtStartOfDay();     DateTime tomorrowStart = now.plusDays(1).withTimeAtStartOfDay();     Interval today = new Interval(todayStart, tomorrowStart);     return todayStart.toDate();   } }"
---

https://stackoverflow.com/q/10308356

How to obtain the start time and end time of a day?
code like this is not accurate:
It is not accurate to the millisecond.


<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
private Date getStartOfDay(Date date) {
    Calendar calendar = Calendar.getInstance();
    int year = calendar.get(Calendar.YEAR);
    int month = calendar.get(Calendar.MONTH);
    int day = calendar.get(Calendar.DATE);
    calendar.set(year, month, day, 0, 0, 0);
    return calendar.getTime();
}

private Date getEndOfDay(Date date) {
    Calendar calendar = Calendar.getInstance();
    int year = calendar.get(Calendar.YEAR);
    int month = calendar.get(Calendar.MONTH);
    int day = calendar.get(Calendar.DATE);
    calendar.set(year, month, day, 23, 59, 59);
    return calendar.getTime();
}
```


## Original code snippet

https://stackoverflow.com/a/20536041

The answer by mprivat is correct. His point is to not try to obtain end of a day, but rather compare to &quot;before start of next day&quot;. His idea is known as the &quot;Half-Open&quot; approach where a span of time has a beginning that is inclusive while the ending is exclusive.

Joda-Time 2.3 offers a method for this very purpose, to obtain first moment of the day: withTimeAtStartOfDay(). Similarly in java.time, LocalDate::atStartOfDay.
Search StackOverflow for &quot;joda half-open&quot; to see more discussion and examples.
See this post, Time intervals and other ranges should be half-open, by Bill Schneider.
The java.util.Date and .Calendar classes are notoriously troublesome. Avoid them.
Use either Joda-Time or, preferably, java.time. The java.time framework is the official successor for the highly successful Joda-Time library.
The java.time framework is built into Java 8 and later. Back-ported to Java 6 &amp; 7 in the ThreeTen-Backport project, further adapted to Android in the ThreeTenABP project.
An Instant is a moment on the timeline in UTC with a resolution of nanoseconds.
Apply a time zone to get the wall-clock time for some locality.
To get the first moment of the day go through the LocalDate class and its atStartOfDay method.
Using Half-Open approach, get first moment of following day.
Currently the java.time framework lacks an Interval class as described below for Joda-Time. However, the ThreeTen-Extra project extends java.time with additional classes. This project is the proving ground for possible future additions to java.time. Among its classes is Interval. Construct an Interval by passing a pair of Instant objects. We can extract an Instant from our ZonedDateTime objects.
UPDATE: The Joda-Time project is now in maintenance-mode, and advises migration to the java.time classes. I am leaving this section intact for history.
Joda-Time has three classes to represent a span of time in various ways: Interval, Period, and Duration. An Interval has a specific beginning and ending on the timeline of the Universe. This fits our need to represent &quot;a day&quot;.
We call the method withTimeAtStartOfDay rather than set time of day to zeros. Because of Daylight Saving Time and other anomalies the first moment of the day may not be 00:00:00.
Example code using Joda-Time 2.3.
If you must, you can convert to a java.util.Date.

<div class="code-logo"><img src="/stackoverflow.png" /></div>

```java
Instant instant = Instant.now();
ZoneId zoneId = ZoneId.of( "America/Montreal" );
ZonedDateTime zdt = ZonedDateTime.ofInstant( instant , zoneId );
ZonedDateTime zdtStart = zdt.toLocalDate().atStartOfDay( zoneId );
ZonedDateTime zdtTomorrowStart = zdtStart.plusDays( 1 );
Interval today = Interval.of( zdtStart.toInstant() , zdtTomorrowStart.toInstant() );
DateTimeZone timeZone = DateTimeZone.forID( "America/Montreal" );
DateTime now = DateTime.now( timeZone );
DateTime todayStart = now.withTimeAtStartOfDay();
DateTime tomorrowStart = now.plusDays( 1 ).withTimeAtStartOfDay();
Interval today = new Interval( todayStart, tomorrowStart );
java.util.Date date = todayStart.toDate();
```

## Produced APIzation

[`APIzator20536041.java`](https://github.com/pasqualesalza/apization-temp-data/raw/master/search/APIzator20536041.java)

<div class="code-logo"><img src="/apizator.png" /></div>

```java
package com.stackoverflow.api;

import com.google.appengine.repackaged.org.joda.time.DateTime;
import com.google.appengine.repackaged.org.joda.time.DateTimeZone;
import com.google.appengine.repackaged.org.joda.time.Instant;
import com.google.appengine.repackaged.org.joda.time.Interval;
import java.time.ZoneId;
import java.time.ZonedDateTime;

/**
 * How to obtain the start time and end time of a day?
 *
 * @author APIzator
 * @see <a href="https://stackoverflow.com/a/20536041">https://stackoverflow.com/a/20536041</a>
 */
public class APIzator20536041 {

  public static java.util.Date obtainTime() throws RuntimeException {
    Instant instant = Instant.now();
    ZoneId zoneId = ZoneId.of("America/Montreal");
    ZonedDateTime zdt = ZonedDateTime.ofInstant(instant, zoneId);
    ZonedDateTime zdtStart = zdt.toLocalDate().atStartOfDay(zoneId);
    ZonedDateTime zdtTomorrowStart = zdtStart.plusDays(1);
    Interval today = Interval.of(
      zdtStart.toInstant(),
      zdtTomorrowStart.toInstant()
    );
    DateTimeZone timeZone = DateTimeZone.forID("America/Montreal");
    DateTime now = DateTime.now(timeZone);
    DateTime todayStart = now.withTimeAtStartOfDay();
    DateTime tomorrowStart = now.plusDays(1).withTimeAtStartOfDay();
    Interval today = new Interval(todayStart, tomorrowStart);
    return todayStart.toDate();
  }
}

```